(self.webpackChunkapp_studio_enterprise_relationship_diagram=self.webpackChunkapp_studio_enterprise_relationship_diagram||[]).push([[8239,620],{78239:(S,A,s)=>{s.r(A),s.d(A,{AnimationLoader:()=>o,BaseDirective:()=>d,LottieComponent:()=>p,LottieDirective:()=>c,LottieTransferState:()=>h,provideCacheableAnimationLoader:()=>D,provideLottieOptions:()=>M,transformAnimationFilenameToKey:()=>v,\u0275CacheableAnimationLoader:()=>r,\u0275LOTTIE_OPTIONS:()=>f});var t=s(22307),l=s(62278),a=s(36486),m=s(67057),O=s(94123);const C=["container"],f=new t.InjectionToken("LottieOptions");function I(){const u=(0,t.inject)(t.NgZone),{player:e,useWebWorker:n}=(0,t.inject)(f),i=u.runOutsideAngular(()=>e());return((0,t.\u0275isPromise)(i)?(0,l.from)(i).pipe((0,a.map)(y=>y.default||y)):(0,l.of)(i)).pipe((0,a.tap)(y=>y.useWebWorker?.(n)),(0,a.shareReplay)({bufferSize:1,refCount:!0}))}class o{constructor(){this.player$=I().pipe((0,a.mergeMap)(e=>L(this.ngZone).pipe((0,a.map)(()=>e)))),this.ngZone=(0,t.inject)(t.NgZone)}loadAnimation(e){return this.player$.pipe((0,a.map)(n=>this.createAnimationItem(n,e)))}resolveOptions(e,n){return Object.assign({container:n,renderer:"svg",loop:!0,autoplay:!0},e)}createAnimationItem(e,n){return this.ngZone.runOutsideAngular(()=>e.loadAnimation(n))}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(o,[{type:t.Injectable,args:[{providedIn:"root"}]}],null,null);function L(u){return new l.Observable(e=>{const n=u.runOutsideAngular(()=>requestAnimationFrame(()=>{e.next(),e.complete()}));return()=>cancelAnimationFrame(n)})}class r extends o{constructor(){super(...arguments),this.cache=new Map}ngOnDestroy(){this.cache.clear()}loadAnimation(e){return this.player$.pipe((0,a.map)(n=>{const i=this.createAnimationItem(n,this.transformOptions(e));return this.awaitConfigAndCache(e,i),i}))}awaitConfigAndCache(e,n){if(this.isAnimationConfigWithPath(e)){if(this.cache.has(e.path))return;n.addEventListener("config_ready",()=>{this.cache.set(e.path,JSON.stringify(n.animationData))})}}transformOptions(e){return this.isAnimationConfigWithPath(e)&&this.cache.has(e.path)?{...e,path:void 0,animationData:JSON.parse(this.cache.get(e.path))}:e}isAnimationConfigWithPath(e){return typeof e.path=="string"}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.\u0275\u0275getInheritedFactory(r)))(i||r)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(r,[{type:t.Injectable,args:[{providedIn:"root"}]}],null,null);function D(){return[{provide:o,useExisting:r}]}function M(u){return[{provide:f,useValue:u}]}class d{constructor(){this.options=(0,t.input)(null),this.containerClass=(0,t.input)(null),this.styles=(0,t.input)(null),this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.ngZone=(0,t.inject)(t.NgZone),this.isBrowser=(0,m.isPlatformBrowser)((0,t.inject)(t.PLATFORM_ID)),this.animationLoader=(0,t.inject)(o),this.loadAnimation$=new l.Subject,this.animationItem$=new l.BehaviorSubject(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroyAnimation()}loadAnimation(e,n){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([e,n]))}getAnimationItem(){return(0,l.defer)(()=>this.animationItem$).pipe((0,a.filter)(e=>e!==null))}awaitAnimationItemAndStartListening(e){return this.getAnimationItem().pipe((0,a.switchMap)(n=>new l.Observable(i=>{this.ngZone.runOutsideAngular(()=>{n.addEventListener(e,g=>{this.ngZone.runOutsideAngular(()=>{i.next(g)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe((0,a.filter)(([n])=>this.isBrowser&&n.options!==void 0)).pipe((0,a.switchMap)(([n,i])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(n.options.currentValue,i)))),(0,O.takeUntilDestroyed)()).subscribe(n=>{this.ngZone.run(()=>this.animationItem$.next(n))})}destroyAnimation(){const e=this.animationItem$.getValue();e!==null&&(e.destroy(),this.animationItem$.next(null))}static{this.\u0275fac=function(n){return new(n||d)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:d,selectors:[["","lottie",""]],inputs:{options:[1,"options"],containerClass:[1,"containerClass"],styles:[1,"styles"]},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(d,[{type:t.Directive,args:[{selector:"[lottie]"}]}],()=>[],{animationCreated:[{type:t.Output}],complete:[{type:t.Output}],loopComplete:[{type:t.Output}],enterFrame:[{type:t.Output}],segmentStart:[{type:t.Output}],configReady:[{type:t.Output}],dataReady:[{type:t.Output}],domLoaded:[{type:t.Output}],destroy:[{type:t.Output}],error:[{type:t.Output}]});class c extends d{constructor(){super(...arguments),this.host=(0,t.inject)(t.ElementRef)}ngOnChanges(e){super.loadAnimation(e,this.host.nativeElement)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.\u0275\u0275getInheritedFactory(c)))(i||c)}})()}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:c,selectors:[["","lottie",""]],standalone:!0,features:[t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature]})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(c,[{type:t.Directive,args:[{selector:"[lottie]",standalone:!0}]}],null,null);class p extends d{constructor(){super(...arguments),this.width=(0,t.input)(null),this.height=(0,t.input)(null),this.container=null}ngOnChanges(e){super.loadAnimation(e,this.container.nativeElement)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.\u0275\u0275getInheritedFactory(p)))(i||p)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:p,selectors:[["ng-lottie"]],viewQuery:function(n,i){if(n&1&&t.\u0275\u0275viewQuery(C,7),n&2){let g;t.\u0275\u0275queryRefresh(g=t.\u0275\u0275loadQuery())&&(i.container=g.first)}},inputs:{width:[1,"width"],height:[1,"height"]},standalone:!0,features:[t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature,t.\u0275\u0275StandaloneFeature],decls:2,vars:6,consts:[["container",""],[3,"ngStyle","ngClass"]],template:function(n,i){n&1&&t.\u0275\u0275element(0,"div",1,0),n&2&&(t.\u0275\u0275styleProp("width",i.width()||"100%")("height",i.height()||"100%"),t.\u0275\u0275property("ngStyle",i.styles())("ngClass",i.containerClass()))},dependencies:[m.NgStyle,m.NgClass],encapsulation:2,changeDetection:0})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(p,[{type:t.Component,args:[{selector:"ng-lottie",template:`
    <div
      #container
      [style.width]="width() || '100%'"
      [style.height]="height() || '100%'"
      [ngStyle]="styles()"
      [ngClass]="containerClass()"
    ></div>
  `,changeDetection:t.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[m.NgStyle,m.NgClass]}]}],null,{container:[{type:t.ViewChild,args:["container",{static:!0}]}]});function v(u){const[e]=u.split(".json");return`animation-${e}`}class h{constructor(e){this.transferState=e}get(e){const n=v(e),i=(0,t.makeStateKey)(n);return this.transferState.get(i,null)}static{this.\u0275fac=function(n){return new(n||h)(t.\u0275\u0275inject(t.TransferState))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(h,[{type:t.Injectable,args:[{providedIn:"root"}]}],()=>[{type:t.TransferState}],null)}}]);
