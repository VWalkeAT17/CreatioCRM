(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[475],{475:(K,v,d)=>{d.r(v),d.d(v,{CdkListbox:()=>c,CdkListboxModule:()=>b,CdkOption:()=>u});var I=d(27075),M=d(32667),x=d(68695),O=d(52411),l=d(15499),D=d(58155),t=d(22307),f=d(59247),h=d(62278),r=d(36486);let m=0;class A extends O.SelectionModel{constructor(e=!1,i,s=!0,n){super(!0,i,s,n),this.multiple=e}isMultipleSelection(){return this.multiple}select(...e){return this.multiple?super.select(...e):super.setSelection(...e)}}class u{constructor(){this._generatedId=`cdk-option-${m++}`,this._disabled=(0,t.signal)(!1),this._enabledTabIndex=(0,t.signal)(void 0),this.element=(0,t.inject)(t.ElementRef).nativeElement,this.listbox=(0,t.inject)(c),this.destroyed=new h.Subject,this._clicked=new h.Subject}get id(){return this._id||this._generatedId}set id(e){this._id=e}get disabled(){return this.listbox.disabled||this._disabled()}set disabled(e){this._disabled.set(e)}get enabledTabIndex(){return this._enabledTabIndex()===void 0?this.listbox.enabledTabIndex:this._enabledTabIndex()}set enabledTabIndex(e){this._enabledTabIndex.set(e)}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}isSelected(){return this.listbox.isSelected(this)}isActive(){return this.listbox.isActive(this)}toggle(){this.listbox.toggle(this)}select(){this.listbox.select(this)}deselect(){this.listbox.deselect(this)}focus(){this.element.focus()}getLabel(){return(this.typeaheadLabel??this.element.textContent?.trim())||""}setActiveStyles(){this.listbox.useActiveDescendant&&this.element.scrollIntoView({block:"nearest",inline:"nearest"})}setInactiveStyles(){}_handleFocus(){this.listbox.useActiveDescendant&&(this.listbox._setActiveOption(this),this.listbox.focus())}_getTabIndex(){return this.listbox.useActiveDescendant||this.disabled?-1:this.isActive()?this.enabledTabIndex:-1}static{this.\u0275fac=function(i){return new(i||u)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:u,selectors:[["","cdkOption",""]],hostAttrs:["role","option",1,"cdk-option"],hostVars:6,hostBindings:function(i,s){i&1&&t.\u0275\u0275listener("click",function(a){return s._clicked.next(a)})("focus",function(){return s._handleFocus()}),i&2&&(t.\u0275\u0275hostProperty("id",s.id),t.\u0275\u0275attribute("aria-selected",s.isSelected())("tabindex",s._getTabIndex())("aria-disabled",s.disabled),t.\u0275\u0275classProp("cdk-option-active",s.isActive()))},inputs:{id:"id",value:[0,"cdkOption","value"],typeaheadLabel:[0,"cdkOptionTypeaheadLabel","typeaheadLabel"],disabled:[2,"cdkOptionDisabled","disabled",t.booleanAttribute],enabledTabIndex:[0,"tabindex","enabledTabIndex"]},exportAs:["cdkOption"],standalone:!0,features:[t.\u0275\u0275InputTransformsFeature]})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(u,[{type:t.Directive,args:[{selector:"[cdkOption]",standalone:!0,exportAs:"cdkOption",host:{role:"option",class:"cdk-option","[id]":"id","[attr.aria-selected]":"isSelected()","[attr.tabindex]":"_getTabIndex()","[attr.aria-disabled]":"disabled","[class.cdk-option-active]":"isActive()","(click)":"_clicked.next($event)","(focus)":"_handleFocus()"}}]}],null,{id:[{type:t.Input}],value:[{type:t.Input,args:["cdkOption"]}],typeaheadLabel:[{type:t.Input,args:["cdkOptionTypeaheadLabel"]}],disabled:[{type:t.Input,args:[{alias:"cdkOptionDisabled",transform:t.booleanAttribute}]}],enabledTabIndex:[{type:t.Input,args:["tabindex"]}]});class c{get id(){return this._id||this._generatedId}set id(e){this._id=e}get enabledTabIndex(){return this._enabledTabIndex()===void 0?0:this._enabledTabIndex()}set enabledTabIndex(e){this._enabledTabIndex.set(e)}get value(){return this._invalid?[]:this.selectionModel.selected}set value(e){this._setSelection(e)}get multiple(){return this.selectionModel.multiple}set multiple(e){this.selectionModel.multiple=e,this.options&&this._updateInternalValue()}get disabled(){return this._disabled()}set disabled(e){this._disabled.set(e)}get useActiveDescendant(){return this._useActiveDescendant()}set useActiveDescendant(e){this._useActiveDescendant.set(e)}get orientation(){return this._orientation}set orientation(e){this._orientation=e==="horizontal"?"horizontal":"vertical",e==="horizontal"?this.listKeyManager?.withHorizontalOrientation(this._dir?.value||"ltr"):this.listKeyManager?.withVerticalOrientation()}get compareWith(){return this.selectionModel.compareWith}set compareWith(e){this.selectionModel.compareWith=e}get navigationWrapDisabled(){return this._navigationWrapDisabled}set navigationWrapDisabled(e){this._navigationWrapDisabled=e,this.listKeyManager?.withWrap(!this._navigationWrapDisabled)}get navigateDisabledOptions(){return this._navigateDisabledOptions}set navigateDisabledOptions(e){this._navigateDisabledOptions=e,this.listKeyManager?.skipPredicate(this._navigateDisabledOptions?this._skipNonePredicate:this._skipDisabledPredicate)}constructor(){this._generatedId=`cdk-listbox-${m++}`,this._enabledTabIndex=(0,t.signal)(void 0),this._disabled=(0,t.signal)(!1),this._useActiveDescendant=(0,t.signal)(!1),this._orientation="vertical",this._navigationWrapDisabled=!1,this._navigateDisabledOptions=!1,this.valueChange=new h.Subject,this.selectionModel=new A,this.destroyed=new h.Subject,this.element=(0,t.inject)(t.ElementRef).nativeElement,this.ngZone=(0,t.inject)(t.NgZone),this.changeDetectorRef=(0,t.inject)(t.ChangeDetectorRef),this._invalid=!1,this._lastTriggered=null,this._onTouched=()=>{},this._onChange=()=>{},this._optionClicked=(0,h.defer)(()=>this.options.changes.pipe((0,r.startWith)(this.options),(0,r.switchMap)(e=>(0,h.merge)(...e.map(i=>i._clicked.pipe((0,r.map)(s=>({option:i,event:s})))))))),this._dir=(0,t.inject)(M.Directionality,{optional:!0}),this._isBrowser=(0,t.inject)(D.Platform).isBrowser,this._skipDisabledPredicate=e=>e.disabled,this._skipNonePredicate=()=>!1,this._hasFocus=!1,this._previousActiveOption=null,this._isBrowser&&this._setPreviousActiveOptionAsActiveOptionOnWindowBlur()}ngAfterContentInit(){(typeof ngDevMode>"u"||ngDevMode)&&(this._verifyNoOptionValueCollisions(),this._verifyOptionValues()),this._initKeyManager(),(0,h.merge)(this.selectionModel.changed,this.options.changes).pipe((0,r.startWith)(null),(0,r.takeUntil)(this.destroyed)).subscribe(()=>this._updateInternalValue()),this._optionClicked.pipe((0,r.filter)(({option:e})=>!e.disabled),(0,r.takeUntil)(this.destroyed)).subscribe(({option:e,event:i})=>this._handleOptionClicked(e,i))}ngOnDestroy(){this.listKeyManager?.destroy(),this.destroyed.next(),this.destroyed.complete()}toggle(e){this.toggleValue(e.value)}toggleValue(e){this._invalid&&this.selectionModel.clear(!1),this.selectionModel.toggle(e)}select(e){this.selectValue(e.value)}selectValue(e){this._invalid&&this.selectionModel.clear(!1),this.selectionModel.select(e)}deselect(e){this.deselectValue(e.value)}deselectValue(e){this._invalid&&this.selectionModel.clear(!1),this.selectionModel.deselect(e)}setAllSelected(e){e?(this._invalid&&this.selectionModel.clear(!1),this.selectionModel.select(...this.options.map(i=>i.value))):this.selectionModel.clear()}isSelected(e){return this.isValueSelected(e.value)}isActive(e){return this.listKeyManager?.activeItem===e}isValueSelected(e){return this._invalid?!1:this.selectionModel.isSelected(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){this._setSelection(e),this._verifyOptionValues()}setDisabledState(e){this.disabled=e,this.changeDetectorRef.markForCheck()}focus(){this.element.focus()}triggerOption(e){e&&!e.disabled&&(this._lastTriggered=e,(this.multiple?this.selectionModel.toggle(e.value):this.selectionModel.select(e.value))&&(this._onChange(this.value),this.valueChange.next({value:this.value,listbox:this,option:e})))}triggerRange(e,i,s,n){if(this.disabled||e&&e.disabled)return;this._lastTriggered=e;const a=this.compareWith??Object.is,o=[...this.options].slice(Math.max(0,Math.min(i,s)),Math.min(this.options.length,Math.max(i,s)+1)).filter(g=>!g.disabled).map(g=>g.value),p=[...this.value];for(const g of o){const _=p.findIndex(k=>a(k,g));n&&_===-1?p.push(g):!n&&_!==-1&&p.splice(_,1)}this.selectionModel.setSelection(...p)&&(this._onChange(this.value),this.valueChange.next({value:this.value,listbox:this,option:e}))}_setActiveOption(e){this.listKeyManager.setActiveItem(e)}_handleFocus(){this.useActiveDescendant||(this.selectionModel.selected.length>0?this._setNextFocusToSelectedOption():this.listKeyManager.setNextItemActive(),this._focusActiveOption())}_handleKeydown(e){if(this.disabled)return;const{keyCode:i}=e,s=this.listKeyManager.activeItemIndex,n=["ctrlKey","metaKey"];if(this.multiple&&i===l.A&&(0,l.hasModifierKey)(e,...n)){this.triggerRange(null,0,this.options.length-1,this.options.length!==this.value.length),e.preventDefault();return}if(this.multiple&&(i===l.SPACE||i===l.ENTER)&&(0,l.hasModifierKey)(e,"shiftKey")){this.listKeyManager.activeItem&&this.listKeyManager.activeItemIndex!=null&&this.triggerRange(this.listKeyManager.activeItem,this._getLastTriggeredIndex()??this.listKeyManager.activeItemIndex,this.listKeyManager.activeItemIndex,!this.listKeyManager.activeItem.isSelected()),e.preventDefault();return}if(this.multiple&&i===l.HOME&&(0,l.hasModifierKey)(e,...n)&&(0,l.hasModifierKey)(e,"shiftKey")){const o=this.listKeyManager.activeItem;if(o){const p=this.listKeyManager.activeItemIndex;this.listKeyManager.setFirstItemActive(),this.triggerRange(o,p,this.listKeyManager.activeItemIndex,!o.isSelected())}e.preventDefault();return}if(this.multiple&&i===l.END&&(0,l.hasModifierKey)(e,...n)&&(0,l.hasModifierKey)(e,"shiftKey")){const o=this.listKeyManager.activeItem;if(o){const p=this.listKeyManager.activeItemIndex;this.listKeyManager.setLastItemActive(),this.triggerRange(o,p,this.listKeyManager.activeItemIndex,!o.isSelected())}e.preventDefault();return}if(i===l.SPACE||i===l.ENTER){this.triggerOption(this.listKeyManager.activeItem),e.preventDefault();return}const a=i===l.UP_ARROW||i===l.DOWN_ARROW||i===l.LEFT_ARROW||i===l.RIGHT_ARROW||i===l.HOME||i===l.END;this.listKeyManager.onKeydown(e),a&&e.shiftKey&&s!==this.listKeyManager.activeItemIndex&&this.triggerOption(this.listKeyManager.activeItem)}_handleFocusIn(){this._hasFocus=!0}_handleFocusOut(e){this._previousActiveOption=this.listKeyManager.activeItem;const i=e.relatedTarget;this.element!==i&&!this.element.contains(i)&&(this._onTouched(),this._hasFocus=!1,this._setNextFocusToSelectedOption())}_getAriaActiveDescendant(){return this.useActiveDescendant?this.listKeyManager?.activeItem?.id:null}_getTabIndex(){return this.disabled?-1:this.useActiveDescendant||!this.listKeyManager.activeItem?this.enabledTabIndex:-1}_initKeyManager(){this.listKeyManager=new I.ActiveDescendantKeyManager(this.options).withWrap(!this._navigationWrapDisabled).withTypeAhead().withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._navigateDisabledOptions?this._skipNonePredicate:this._skipDisabledPredicate),this.orientation==="vertical"?this.listKeyManager.withVerticalOrientation():this.listKeyManager.withHorizontalOrientation(this._dir?.value||"ltr"),this.selectionModel.selected.length&&Promise.resolve().then(()=>this._setNextFocusToSelectedOption()),this.listKeyManager.change.subscribe(()=>this._focusActiveOption()),this.options.changes.pipe((0,r.takeUntil)(this.destroyed)).subscribe(()=>{const e=this.listKeyManager.activeItem;e&&!this.options.find(i=>i===e)&&(this.listKeyManager.setActiveItem(-1),this.changeDetectorRef.markForCheck())})}_focusActiveOption(){this.useActiveDescendant||this.listKeyManager.activeItem?.focus(),this.changeDetectorRef.markForCheck()}_setSelection(e){this._invalid&&this.selectionModel.clear(!1),this.selectionModel.setSelection(...this._coerceValue(e)),this._hasFocus||this._setNextFocusToSelectedOption()}_setNextFocusToSelectedOption(){const e=this.options?.find(i=>i.isSelected());e&&this.listKeyManager.updateActiveItem(e)}_updateInternalValue(){const e=new Map;this.selectionModel.sort((s,n)=>{const a=this._getIndexForValue(e,s),o=this._getIndexForValue(e,n);return a-o});const i=this.selectionModel.selected;this._invalid=!this.multiple&&i.length>1||!!this._getInvalidOptionValues(i).length,this.changeDetectorRef.markForCheck()}_getIndexForValue(e,i){const s=this.compareWith||Object.is;if(!e.has(i)){let n=-1;for(let a=0;a<this.options.length;a++)if(s(i,this.options.get(a).value)){n=a;break}e.set(i,n)}return e.get(i)}_handleOptionClicked(e,i){i.preventDefault(),this.listKeyManager.setActiveItem(e),i.shiftKey&&this.multiple?this.triggerRange(e,this._getLastTriggeredIndex()??this.listKeyManager.activeItemIndex,this.listKeyManager.activeItemIndex,!e.isSelected()):this.triggerOption(e)}_verifyNoOptionValueCollisions(){this.options.changes.pipe((0,r.startWith)(this.options),(0,r.takeUntil)(this.destroyed)).subscribe(()=>{const e=this.compareWith??Object.is;for(let i=0;i<this.options.length;i++){const s=this.options.get(i);let n=null;for(let a=i+1;a<this.options.length;a++){const o=this.options.get(a);if(e(s.value,o.value)){n=o;break}}if(n){this.compareWith?console.warn("Found multiple CdkOption representing the same value under the given compareWith function",{option1:s.element,option2:n.element,compareWith:this.compareWith}):console.warn("Found multiple CdkOption with the same value",{option1:s.element,option2:n.element});return}}})}_verifyOptionValues(){if(this.options&&(typeof ngDevMode>"u"||ngDevMode)){const e=this.selectionModel.selected,i=this._getInvalidOptionValues(e);if(!this.multiple&&e.length>1)throw Error("Listbox cannot have more than one selected value in multi-selection mode.");if(i.length)throw Error("Listbox has selected values that do not match any of its options.")}}_coerceValue(e){return e==null?[]:(0,x.coerceArray)(e)}_getInvalidOptionValues(e){const i=this.compareWith||Object.is,s=(this.options||[]).map(n=>n.value);return e.filter(n=>!s.some(a=>i(n,a)))}_getLastTriggeredIndex(){const e=this.options.toArray().indexOf(this._lastTriggered);return e===-1?null:e}_setPreviousActiveOptionAsActiveOptionOnWindowBlur(){this.ngZone.runOutsideAngular(()=>{(0,h.fromEvent)(window,"blur").pipe((0,r.takeUntil)(this.destroyed)).subscribe(()=>{this.element.contains(document.activeElement)&&this._previousActiveOption&&(this._setActiveOption(this._previousActiveOption),this._previousActiveOption=null)})})}static{this.\u0275fac=function(i){return new(i||c)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:c,selectors:[["","cdkListbox",""]],contentQueries:function(i,s,n){if(i&1&&t.\u0275\u0275contentQuery(n,u,5),i&2){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(s.options=a)}},hostAttrs:["role","listbox",1,"cdk-listbox"],hostVars:6,hostBindings:function(i,s){i&1&&t.\u0275\u0275listener("focus",function(){return s._handleFocus()})("keydown",function(a){return s._handleKeydown(a)})("focusout",function(a){return s._handleFocusOut(a)})("focusin",function(){return s._handleFocusIn()}),i&2&&(t.\u0275\u0275hostProperty("id",s.id),t.\u0275\u0275attribute("tabindex",s._getTabIndex())("aria-disabled",s.disabled)("aria-multiselectable",s.multiple)("aria-activedescendant",s._getAriaActiveDescendant())("aria-orientation",s.orientation))},inputs:{id:"id",enabledTabIndex:[0,"tabindex","enabledTabIndex"],value:[0,"cdkListboxValue","value"],multiple:[2,"cdkListboxMultiple","multiple",t.booleanAttribute],disabled:[2,"cdkListboxDisabled","disabled",t.booleanAttribute],useActiveDescendant:[2,"cdkListboxUseActiveDescendant","useActiveDescendant",t.booleanAttribute],orientation:[0,"cdkListboxOrientation","orientation"],compareWith:[0,"cdkListboxCompareWith","compareWith"],navigationWrapDisabled:[2,"cdkListboxNavigationWrapDisabled","navigationWrapDisabled",t.booleanAttribute],navigateDisabledOptions:[2,"cdkListboxNavigatesDisabledOptions","navigateDisabledOptions",t.booleanAttribute]},outputs:{valueChange:"cdkListboxValueChange"},exportAs:["cdkListbox"],standalone:!0,features:[t.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,t.forwardRef)(()=>c),multi:!0}]),t.\u0275\u0275InputTransformsFeature]})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(c,[{type:t.Directive,args:[{selector:"[cdkListbox]",standalone:!0,exportAs:"cdkListbox",host:{role:"listbox",class:"cdk-listbox","[id]":"id","[attr.tabindex]":"_getTabIndex()","[attr.aria-disabled]":"disabled","[attr.aria-multiselectable]":"multiple","[attr.aria-activedescendant]":"_getAriaActiveDescendant()","[attr.aria-orientation]":"orientation","(focus)":"_handleFocus()","(keydown)":"_handleKeydown($event)","(focusout)":"_handleFocusOut($event)","(focusin)":"_handleFocusIn()"},providers:[{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,t.forwardRef)(()=>c),multi:!0}]}]}],()=>[],{id:[{type:t.Input}],enabledTabIndex:[{type:t.Input,args:["tabindex"]}],value:[{type:t.Input,args:["cdkListboxValue"]}],multiple:[{type:t.Input,args:[{alias:"cdkListboxMultiple",transform:t.booleanAttribute}]}],disabled:[{type:t.Input,args:[{alias:"cdkListboxDisabled",transform:t.booleanAttribute}]}],useActiveDescendant:[{type:t.Input,args:[{alias:"cdkListboxUseActiveDescendant",transform:t.booleanAttribute}]}],orientation:[{type:t.Input,args:["cdkListboxOrientation"]}],compareWith:[{type:t.Input,args:["cdkListboxCompareWith"]}],navigationWrapDisabled:[{type:t.Input,args:[{alias:"cdkListboxNavigationWrapDisabled",transform:t.booleanAttribute}]}],navigateDisabledOptions:[{type:t.Input,args:[{alias:"cdkListboxNavigatesDisabledOptions",transform:t.booleanAttribute}]}],valueChange:[{type:t.Output,args:["cdkListboxValueChange"]}],options:[{type:t.ContentChildren,args:[u,{descendants:!0}]}]});const y=[c,u];class b{static{this.\u0275fac=function(i){return new(i||b)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:b})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(b,[{type:t.NgModule,args:[{imports:[...y],exports:[...y]}]}],null,null)}}]);
