(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[5699],{98080:(Y,v,_)=>{_.r(v),_.d(v,{ComponentHarness:()=>E,ContentContainerComponentHarness:()=>W,HarnessEnvironment:()=>$,HarnessPredicate:()=>d,TestKey:()=>H,_getTextWithExcludedElements:()=>z,getNoKeysSpecifiedError:()=>U,handleAutoChangeDetectionStatus:()=>O,manualChangeDetection:()=>b,parallel:()=>h,stopHandlingAutoChangeDetectionStatus:()=>L});var o=_(73308),y=_(62278);const c=new y.BehaviorSubject({isDisabled:!1});let f;function M(e){e.onDetectChangesNow?.()}function O(e){L(),f=c.subscribe(e)}function L(){f?.unsubscribe(),f=null}function P(e,t){return m.apply(this,arguments)}function m(){return m=(0,o.A)(function*(e,t){if(c.getValue().isDisabled)return yield e();if(f||O(M),t){yield new Promise(n=>c.next({isDisabled:!0,onDetectChangesNow:n}));try{return yield e()}finally{yield new Promise(n=>c.next({isDisabled:!1,onDetectChangesNow:n}))}}else{c.next({isDisabled:!0});try{return yield e()}finally{c.next({isDisabled:!1})}}}),m.apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return g=(0,o.A)(function*(e){return P(e,!1)}),g.apply(this,arguments)}function h(e){return A.apply(this,arguments)}function A(){return A=(0,o.A)(function*(e){return P(()=>Promise.all(e()),!0)}),A.apply(this,arguments)}class E{constructor(t){this.locatorFactory=t}host(){var t=this;return(0,o.A)(function*(){return t.locatorFactory.rootElement})()}documentRootLocatorFactory(){return this.locatorFactory.documentRootLocatorFactory()}locatorFor(...t){return this.locatorFactory.locatorFor(...t)}locatorForOptional(...t){return this.locatorFactory.locatorForOptional(...t)}locatorForAll(...t){return this.locatorFactory.locatorForAll(...t)}forceStabilize(){var t=this;return(0,o.A)(function*(){return t.locatorFactory.forceStabilize()})()}waitForTasksOutsideAngular(){var t=this;return(0,o.A)(function*(){return t.locatorFactory.waitForTasksOutsideAngular()})()}}class W extends E{getChildLoader(t){var n=this;return(0,o.A)(function*(){return(yield n.getRootHarnessLoader()).getChildLoader(t)})()}getAllChildLoaders(t){var n=this;return(0,o.A)(function*(){return(yield n.getRootHarnessLoader()).getAllChildLoaders(t)})()}getHarness(t){var n=this;return(0,o.A)(function*(){return(yield n.getRootHarnessLoader()).getHarness(t)})()}getHarnessOrNull(t){var n=this;return(0,o.A)(function*(){return(yield n.getRootHarnessLoader()).getHarnessOrNull(t)})()}getAllHarnesses(t){var n=this;return(0,o.A)(function*(){return(yield n.getRootHarnessLoader()).getAllHarnesses(t)})()}hasHarness(t){var n=this;return(0,o.A)(function*(){return(yield n.getRootHarnessLoader()).hasHarness(t)})()}getRootHarnessLoader(){var t=this;return(0,o.A)(function*(){return t.locatorFactory.rootHarnessLoader()})()}}class d{constructor(t,n){this.harnessType=t,this._predicates=[],this._descriptions=[],this._addBaseOptions(n)}static stringMatches(t,n){return(0,o.A)(function*(){return t=yield t,n===null?t===null:t===null?!1:typeof n=="string"?t===n:n.test(t)})()}add(t,n){return this._descriptions.push(t),this._predicates.push(n),this}addOption(t,n,r){return n!==void 0&&this.add(`${t} = ${Q(n)}`,s=>r(s,n)),this}filter(t){var n=this;return(0,o.A)(function*(){if(t.length===0)return[];const r=yield h(()=>t.map(s=>n.evaluate(s)));return t.filter((s,i)=>r[i])})()}evaluate(t){var n=this;return(0,o.A)(function*(){return(yield h(()=>n._predicates.map(s=>s(t)))).reduce((s,i)=>s&&i,!0)})()}getDescription(){return this._descriptions.join(", ")}getSelector(){if(!this._ancestor)return(this.harnessType.hostSelector||"").trim();const[t,n]=w(this._ancestor),[r,s]=w(this.harnessType.hostSelector||""),i=[];return t.forEach(a=>{const l=x(a,n);return r.forEach(u=>i.push(`${l} ${x(u,s)}`))}),i.join(", ")}_addBaseOptions(t){this._ancestor=t.ancestor||"",this._ancestor&&this._descriptions.push(`has ancestor matching selector "${this._ancestor}"`);const n=t.selector;n!==void 0&&this.add(`host matches selector "${n}"`,function(){var r=(0,o.A)(function*(s){return(yield s.host()).matchesSelector(n)});return function(s){return r.apply(this,arguments)}}())}}function Q(e){if(e===void 0)return"undefined";try{return JSON.stringify(e,(n,r)=>r instanceof RegExp?`\u25ECMAT_RE_ESCAPE\u25EC${r.toString().replace(/"/g,"\u25ECMAT_RE_ESCAPE\u25EC")}\u25ECMAT_RE_ESCAPE\u25EC`:r).replace(/"◬MAT_RE_ESCAPE◬|◬MAT_RE_ESCAPE◬"/g,"").replace(/◬MAT_RE_ESCAPE◬/g,'"')}catch{return"{...}"}}function w(e){const t=[];return[e.replace(/(["'][^["']*["'])/g,(r,s)=>{const i=`__cdkPlaceholder-${t.length}__`;return t.push(s),i}).split(",").map(r=>r.trim()),t]}function x(e,t){return e.replace(/__cdkPlaceholder-(\d+)__/g,(n,r)=>t[+r])}class ${get rootElement(){return this._rootElement=this._rootElement||this.createTestElement(this.rawRootElement),this._rootElement}set rootElement(t){this._rootElement=t}constructor(t){this.rawRootElement=t}documentRootLocatorFactory(){return this.createEnvironment(this.getDocumentRoot())}locatorFor(...t){return()=>R(this._getAllHarnessesAndTestElements(t),I(t))}locatorForOptional(...t){var n=this;return(0,o.A)(function*(){return(yield n._getAllHarnessesAndTestElements(t))[0]||null})}locatorForAll(...t){return()=>this._getAllHarnessesAndTestElements(t)}rootHarnessLoader(){var t=this;return(0,o.A)(function*(){return t})()}harnessLoaderFor(t){var n=this;return(0,o.A)(function*(){return n.createEnvironment(yield R(n.getAllRawElements(t),[N(t)]))})()}harnessLoaderForOptional(t){var n=this;return(0,o.A)(function*(){const r=yield n.getAllRawElements(t);return r[0]?n.createEnvironment(r[0]):null})()}harnessLoaderForAll(t){var n=this;return(0,o.A)(function*(){return(yield n.getAllRawElements(t)).map(s=>n.createEnvironment(s))})()}getHarness(t){return this.locatorFor(t)()}getHarnessOrNull(t){return this.locatorForOptional(t)()}getAllHarnesses(t){return this.locatorForAll(t)()}hasHarness(t){var n=this;return(0,o.A)(function*(){return(yield n.locatorForOptional(t)())!==null})()}getChildLoader(t){var n=this;return(0,o.A)(function*(){return n.createEnvironment(yield R(n.getAllRawElements(t),[N(t)]))})()}getAllChildLoaders(t){var n=this;return(0,o.A)(function*(){return(yield n.getAllRawElements(t)).map(r=>n.createEnvironment(r))})()}createComponentHarness(t,n){return new t(this.createEnvironment(n))}_getAllHarnessesAndTestElements(t){var n=this;return(0,o.A)(function*(){if(!t.length)throw Error("CDK Component harness query must contain at least one element.");const{allQueries:r,harnessQueries:s,elementQueries:i,harnessTypes:a}=B(t),l=yield n.getAllRawElements([...i,...s.map(D=>D.getSelector())].join(",")),u=i.length===0&&a.size===1||s.length===0,p=yield h(()=>l.map(function(){var D=(0,o.A)(function*(S){const V=n.createTestElement(S),J=yield h(()=>r.map(X=>n._getQueryResultForElement(X,S,V,u)));return j(J)});return function(S){return D.apply(this,arguments)}}()));return[].concat(...p)})()}_getQueryResultForElement(t,n,r){var s=this;return(0,o.A)(function*(i,a,l,u=!1){if(typeof i=="string")return u||(yield l.matchesSelector(i))?l:null;if(u||(yield l.matchesSelector(i.getSelector()))){const p=s.createComponentHarness(i.harnessType,a);return(yield i.evaluate(p))?p:null}return null}).apply(this,arguments)}}function B(e){const t=[],n=[],r=[],s=new Set;for(const i of e)if(typeof i=="string")t.push(i),r.push(i);else{const a=i instanceof d?i:new d(i,{});t.push(a),n.push(a),s.add(a.harnessType)}return{allQueries:t,harnessQueries:n,elementQueries:r,harnessTypes:s}}function j(e){return F.apply(this,arguments)}function F(){return F=(0,o.A)(function*(e){let t=!1,n=new Set;const r=[];for(const s of e)s&&(s instanceof E?n.has(s.constructor)||(n.add(s.constructor),r.push(s)):t||(t=!0,r.push(s)));return r}),F.apply(this,arguments)}function R(e,t){return C.apply(this,arguments)}function C(){return C=(0,o.A)(function*(e,t){const n=(yield e)[0];if(n==null)throw Error(`Failed to find element matching one of the following queries:
`+t.map(r=>`(${r})`).join(`,
`));return n}),C.apply(this,arguments)}function I(e){return e.map(t=>typeof t=="string"?G(t):k(t))}function k(e){const t=e instanceof d?e:new d(e,{}),{name:n,hostSelector:r}=t.harnessType,s=`${n} with host element matching selector: "${r}"`,i=t.getDescription();return s+(i?` satisfying the constraints: ${t.getDescription()}`:"")}function G(e){return`TestElement for element matching selector: "${e}"`}function N(e){return`HarnessLoader for element matching selector: "${e}"`}var H;(function(e){e[e.BACKSPACE=0]="BACKSPACE",e[e.TAB=1]="TAB",e[e.ENTER=2]="ENTER",e[e.SHIFT=3]="SHIFT",e[e.CONTROL=4]="CONTROL",e[e.ALT=5]="ALT",e[e.ESCAPE=6]="ESCAPE",e[e.PAGE_UP=7]="PAGE_UP",e[e.PAGE_DOWN=8]="PAGE_DOWN",e[e.END=9]="END",e[e.HOME=10]="HOME",e[e.LEFT_ARROW=11]="LEFT_ARROW",e[e.UP_ARROW=12]="UP_ARROW",e[e.RIGHT_ARROW=13]="RIGHT_ARROW",e[e.DOWN_ARROW=14]="DOWN_ARROW",e[e.INSERT=15]="INSERT",e[e.DELETE=16]="DELETE",e[e.F1=17]="F1",e[e.F2=18]="F2",e[e.F3=19]="F3",e[e.F4=20]="F4",e[e.F5=21]="F5",e[e.F6=22]="F6",e[e.F7=23]="F7",e[e.F8=24]="F8",e[e.F9=25]="F9",e[e.F10=26]="F10",e[e.F11=27]="F11",e[e.F12=28]="F12",e[e.META=29]="META",e[e.COMMA=30]="COMMA"})(H||(H={}));function U(){return Error("No keys have been specified.")}function z(e,t){const n=e.cloneNode(!0),r=n.querySelectorAll(t);for(let s=0;s<r.length;s++)r[s].remove();return(n.textContent||"").trim()}}}]);
