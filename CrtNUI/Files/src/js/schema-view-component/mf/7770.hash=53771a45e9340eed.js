(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[7770],{87770:(M,O,s)=>{s.r(O),s.d(O,{CrtDashboardsComponent:()=>u,CrtDashboardsModule:()=>j,createDashboardsListDataAttributeName:()=>ve,createDashboardsSelectedDashboardAttributeName:()=>Ce,generateDashboardsName:()=>De,getDashboardsListDataAttributeName:()=>ct});var f=s(73308),i=s(5960),a=s(22307),h=s(37851),p=s(76608),v=s(77592),B=s(34760),ye=s(1034),_e=s(96677),Se=s(60776),Ie=s(52793),Me=s(10098),C=s(79772),Oe=s(86710),W=s(50485),ae=s(81220),Ee=s(17679),Pe=s(68712),re=s(25409),ne=s(70372),z=s(23092),Ne=s(77851),m=s(62278),y=s(36486),x=s(67057),A=s(30421),se=s(13232),xe=s(16212),Te=s(52170),Fe=s(47458),we=s(82869),Ve=s(55711),Ae=s(22817);const $e=["list"],Re=["schemaContainer"];function He(l,e){if(l&1&&(a.\u0275\u0275element(0,"crt-button",12),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275pipe(2,"translate")),l&2){const t=a.\u0275\u0275nextContext();a.\u0275\u0275property("iconPosition","only-icon")("icon","actions-button-icon")("clickMode","menu")("menuItems",t.headerToolbarItems)("title",a.\u0275\u0275pipeBind1(1,6,"Dashboards.ActionsToolbar.Title"))("ariaLabel",a.\u0275\u0275pipeBind1(2,8,"Dashboards.ActionsToolbar.Title"))}}function Ue(l,e){if(l&1&&(a.\u0275\u0275elementStart(0,"crt-select-list-item",15),a.\u0275\u0275element(1,"mat-icon",16),a.\u0275\u0275elementStart(2,"span",17),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd()()),l&2){const t=e.$implicit;a.\u0275\u0275property("crtListboxOption",t.Code),a.\u0275\u0275advance(2),a.\u0275\u0275property("title",t.Name),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",t.Name,"")}}function Le(l,e){if(l&1){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",13),a.\u0275\u0275listener("selectedChange",function(n){a.\u0275\u0275restoreView(t);const o=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(o.onSelectedDashboardChanged(n.value[0]))}),a.\u0275\u0275template(1,Ue,4,3,"crt-select-list-item",14),a.\u0275\u0275elementEnd()}if(l&2){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.filteredDashboards)}}function je(l,e){if(l&1){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0,18),a.\u0275\u0275elementStart(1,"div",19),a.\u0275\u0275listener("selectedChange",function(){a.\u0275\u0275restoreView(t);const n=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(n.onCreateItemButtonClick())}),a.\u0275\u0275elementStart(2,"crt-select-list-footer-item",20),a.\u0275\u0275element(3,"mat-icon",21),a.\u0275\u0275elementStart(4,"span",17),a.\u0275\u0275pipe(5,"translate"),a.\u0275\u0275text(6),a.\u0275\u0275pipe(7,"translate"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementContainerEnd()}l&2&&(a.\u0275\u0275advance(),a.\u0275\u0275property("role","none"),a.\u0275\u0275advance(),a.\u0275\u0275property("role","button"),a.\u0275\u0275advance(2),a.\u0275\u0275property("title",a.\u0275\u0275pipeBind1(5,4,"Dashboards.CreateNewDashboardButton")),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(7,6,"Dashboards.CreateNewDashboardButton")," "))}function Be(l,e){if(l&1){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"crt-button",24),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275listener("clicked",function(){a.\u0275\u0275restoreView(t);const n=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(n.onCreateItemButtonClick())}),a.\u0275\u0275elementEnd()}l&2&&(a.\u0275\u0275propertyInterpolate("title",a.\u0275\u0275pipeBind1(1,2,"Dashboards.CreateNewDashboardButton")),a.\u0275\u0275propertyInterpolate("caption",a.\u0275\u0275pipeBind1(2,4,"Dashboards.CreateNewDashboardButton")))}function We(l,e){if(l&1&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"crt-placeholder",22),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275template(4,Be,3,6,"crt-button",23),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),l&2){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275propertyInterpolate("title",a.\u0275\u0275pipeBind1(2,5,"Dashboards.NoData")),a.\u0275\u0275propertyInterpolate("subhead",a.\u0275\u0275pipeBind1(3,7,"Dashboards.NoData2")),a.\u0275\u0275property("hidden",t.loading)("image",t.placeholderImage),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",t.canManage)}}let u=class ee extends Pe.K{set dashboards(e){e instanceof Ne.A&&(this._dashboards$Subscriptions$?.unsubscribe(),this._dashboards$Subscriptions$=new m.Subscription,this._dashboards$Subscriptions$.add(e.changed.subscribe(()=>{this._updateDashboards(e)}))),this._updateDashboards(e)}set filter(e){this._parameters={...this._parameters,Filter:e},this._schemaOutletComponentInstance&&(this._schemaOutletComponentInstance.parameters=this._parameters)}set hierarchicalFilter(e){this._parameters={...this._parameters,HierarchicalFilter:e},this._schemaOutletComponentInstance&&(this._schemaOutletComponentInstance.parameters=this._parameters)}set hierarchicalColumnValue(e){this._parameters={...this._parameters,HierarchicalColumnValue:e},this._schemaOutletComponentInstance&&(this._schemaOutletComponentInstance.parameters=this._parameters)}constructor(e,t,r,n,o,d,c,g,b,N){super(e),this._schemaOutletComponent=t,this._changeDetectorRef=r,this._schemaChangeListenerService=n,this._userInfo=o,this._rightsService=g,this._licenseOperationValues=b,this._translationService=N,this._parameters={Filter:{},HierarchicalFilter:{},HierarchicalColumnValue:null},this._schemaOutletComponentHidden=!1,this.displayedDashboard="",this.dashboards$=new m.BehaviorSubject([]),this.filteredDashboards=[],this.placeholderImage={type:"animation",name:"dashboard",width:"100px",height:"100px"},this.selectedDashboardChange=new a.EventEmitter,this.dashboardsOutdated=new a.EventEmitter,this.createDashboard=new a.EventEmitter,this.headerToolbarItems=[],d.addSvgIconLiteral("placeholder",c.bypassSecurityTrustHtml(s(24381))),this._subscribeToSchemaNotifications()}_initializeAccessRights(){var e=this;return(0,f.A)(function*(){e.canManage===void 0&&(e.canManage=!!e._licenseOperationValues.CanManageAnalytics&&(yield(0,m.firstValueFrom)(e._rightsService.getCanExecuteOperation("CanManageAnalytics"))),e._changeDetectorRef.markForCheck())})()}_subscribeToSchemaNotifications(){var e=this;(0,m.merge)(this._schemaChangeListenerService.schemaChanged$,this._schemaChangeListenerService.schemaRemoved$,this._schemaChangeListenerService.rightsChanged$).pipe((0,y.filter)(t=>t.schemaType===re.L.ClientUnitSchema),(0,y.tap)(t=>{t.isNew&&!t.extendParent&&t.userId===this._userInfo.id&&(this._addedDashboard=t.name)}),(0,y.filter)(t=>!t.isNew||t.isNew&&t.extendParent),(0,y.tap)(t=>this.dashboardsOutdated.emit(t.name)),(0,y.takeUntil)(this.destroyed$)).subscribe(),this._schemaChangeListenerService.requireJsChanged$.pipe((0,y.filter)(t=>t.schemaType===re.L.ClientUnitSchema),(0,y.tap)(function(){var t=(0,f.A)(function*(r){r.name===e.selectedDashboard&&r.userId===e._userInfo.id&&(yield(0,m.firstValueFrom)(e._schemaOutletComponentInstance.reloadSchema()))});return function(r){return t.apply(this,arguments)}}()),(0,y.takeUntil)(this.destroyed$)).subscribe()}_setSchemaOutletSchemaName(e){e&&this._schemaOutletComponentInstance&&(this._schemaOutletComponentInstance.schemaName!==e||this._schemaOutletComponentHidden)?(this._schemaOutletComponentInstance.schemaName=e,this._schemaOutletComponentHidden=!1):!e&&this._schemaOutletComponentInstance&&(this._schemaOutletComponentInstance.hide(),this._schemaOutletComponentHidden=!0)}_updateDisplayedDashboard(){let e=this.selectedDashboard;const t=this.dashboards$.value.find(r=>r.Code===e);if(this._addedDashboard){this.onSelectedDashboardChanged(this._addedDashboard),this._addedDashboard=null;return}if((!e||!t)&&(e=this.dashboards$.value?.[0]?.Code,e)){this.onSelectedDashboardChanged(e);return}this.displayedDashboard=t?.Name||t?.Code,this._setSchemaOutletSchemaName(t?.Code)}_updateDashboards(e){Promise.all((e??[]).map(function(){var t=(0,f.A)(function*(r){return{Id:yield r.Id,Name:yield r.Name,Code:yield r.Code,UserLevelSchema:yield r.UserLevelSchema}});return function(r){return t.apply(this,arguments)}}())).then(t=>{this.dashboards$.next(t||[]),this._updateDisplayedDashboard(),this._changeDetectorRef.markForCheck()})}onSelectedDashboardChanged(e){e&&this.selectedDashboard!==e&&this.selectedDashboardChange.emit(e),this.listComponent.isOpen=!1}ngOnInit(){this._initializeAccessRights()}ngOnChanges(e){"selectedDashboard"in e&&this._updateDisplayedDashboard()}ngAfterViewInit(){const e=this.schemaContainerRef.createComponent(this._schemaOutletComponent);this._schemaOutletComponentInstance=e.instance,this.schemaContainerRef.insert(e.hostView),this._schemaOutletComponentInstance.parameters=this._parameters}onDashboardsFiltering(e){this.filteredDashboards=this.dashboards$.value.filter(t=>t.Name.toLowerCase().includes(e.toLowerCase()))}onSearchDashboardsPanelStateChange(){this.filteredDashboards=this.dashboards$.value}onCreateItemButtonClick(){this.listComponent.isOpen=!1,this.createDashboard.emit()}static{this.\u0275fac=function(t){return new(t||ee)(a.\u0275\u0275directiveInject(a.Injector),a.\u0275\u0275directiveInject(Ee.O),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(ne.l2),a.\u0275\u0275directiveInject(z.oq),a.\u0275\u0275directiveInject(h.MatIconRegistry),a.\u0275\u0275directiveInject(p.DomSanitizer),a.\u0275\u0275directiveInject(W.f),a.\u0275\u0275directiveInject(Oe.W),a.\u0275\u0275directiveInject(C.TranslateService))}}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:ee,selectors:[["crt-dashboards"]],viewQuery:function(t,r){if(t&1&&(a.\u0275\u0275viewQuery($e,7,ae.j),a.\u0275\u0275viewQuery(Re,7,a.ViewContainerRef)),t&2){let n;a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(r.listComponent=n.first),a.\u0275\u0275queryRefresh(n=a.\u0275\u0275loadQuery())&&(r.schemaContainerRef=n.first)}},inputs:{dashboards:"dashboards",selectedDashboard:"selectedDashboard",filter:"filter",hierarchicalFilter:"hierarchicalFilter",hierarchicalColumnValue:"hierarchicalColumnValue",canManage:"canManage",headerToolbarItems:"headerToolbarItems"},outputs:{selectedDashboardChange:"selectedDashboardChange",dashboardsOutdated:"dashboardsOutdated",createDashboard:"createDashboard"},features:[a.\u0275\u0275InheritDefinitionFeature,a.\u0275\u0275NgOnChangesFeature],decls:15,vars:14,consts:[["overlayOrigin","cdkOverlayOrigin"],["list",""],["schemaContainer",""],[1,"crt-dashboard-header"],["cdkOverlayOrigin","","iconPosition","right-icon","displayType","text","size","extra-large","icon","menu-arrow",1,"crt-dashboards-selected-dashboard-button",3,"clicked","caption","title"],[1,"crt-dashboard-header-spacer"],["class","crt-dashboard-actions-menu-button",3,"iconPosition","icon","clickMode","menuItems","title","ariaLabel",4,"ngIf"],[3,"filtering","isOpenChange","trigger","overlayWidth"],["crtListboxViewport","","optionValueKeyPropertyName","Code",3,"selectedChange",4,"ngIf"],["crt-select-list-footer-items","",4,"ngIf"],[1,"content-container"],[4,"ngIf"],[1,"crt-dashboard-actions-menu-button",3,"iconPosition","icon","clickMode","menuItems","title","ariaLabel"],["crtListboxViewport","","optionValueKeyPropertyName","Code",3,"selectedChange"],[3,"crtListboxOption",4,"ngFor","ngForOf"],[3,"crtListboxOption"],["crtSelectListItemIcon","","svgIcon","bars-button-icon",1,"crt-dashboards-list-item-icon"],[1,"crt-dashboards-select-item-name",3,"title"],["crt-select-list-footer-items",""],["crtListboxViewport","",3,"selectedChange","role"],["crtListboxOption","",3,"role"],["crtSelectListItemIcon","","svgIcon","add-button-icon",1,"crt-dashboards-list-item-icon"],[1,"crt-dashboards-no-data-placeholder",3,"hidden","title","subhead","image"],["class","crt-dashboards-no-data-placeholder-add-button","iconSize","large","icon","add-button-icon","iconPosition","left-icon",3,"title","caption","clicked",4,"ngIf"],["iconSize","large","icon","add-button-icon","iconPosition","left-icon",1,"crt-dashboards-no-data-placeholder-add-button",3,"clicked","title","caption"]],template:function(t,r){if(t&1){const n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",3)(1,"crt-button",4,0),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275listener("clicked",function(){a.\u0275\u0275restoreView(n);const d=a.\u0275\u0275reference(7);return a.\u0275\u0275resetView(d.isOpen=!0)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(4,"div",5),a.\u0275\u0275template(5,He,3,10,"crt-button",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"crt-select-list",7,1),a.\u0275\u0275listener("filtering",function(d){return a.\u0275\u0275restoreView(n),a.\u0275\u0275resetView(r.onDashboardsFiltering(d))})("isOpenChange",function(){return a.\u0275\u0275restoreView(n),a.\u0275\u0275resetView(r.onSearchDashboardsPanelStateChange())}),a.\u0275\u0275template(8,Le,2,1,"div",8)(9,je,8,8,"ng-container",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"div",10),a.\u0275\u0275elementContainer(11,null,2),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(13,We,5,9,"ng-container",11),a.\u0275\u0275pipe(14,"async")}if(t&2){const n=a.\u0275\u0275reference(2),o=a.\u0275\u0275reference(7);a.\u0275\u0275advance(),a.\u0275\u0275classProp("crt-dashboard-select-menu-opened",o.isOpen),a.\u0275\u0275property("caption",r.displayedDashboard||a.\u0275\u0275pipeBind1(3,10,"Dashboards.SelectDashboard"))("title",r.displayedDashboard),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",r.selectedDashboard&&(r.headerToolbarItems==null?null:r.headerToolbarItems.length)&&r.canManage),a.\u0275\u0275advance(),a.\u0275\u0275property("trigger",n)("overlayWidth",400),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",o.isOpen),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",r.canManage),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",!a.\u0275\u0275pipeBind1(14,12,r.dashboards$).length)}},dependencies:[x.NgForOf,x.NgIf,h.MatIcon,A.CdkOverlayOrigin,se.B,ae.j,xe.Z,Te.O,Fe.$,we.y,Ve.X,Ae.Q,x.AsyncPipe,C.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:table;table-layout:fixed;position:relative;height:100%;width:100%}[_nghost-%COMP%]   .crt-dashboards-no-data-placeholder[_ngcontent-%COMP%]{position:absolute;top:max(25%,44px);left:50%;transform:translate(-50%);overflow-y:hidden}[_nghost-%COMP%]   .crt-dashboards-no-data-placeholder-add-button[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .crt-dashboard-header[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;width:100%}[_nghost-%COMP%]   .crt-dashboards-selected-dashboard-button[_ngcontent-%COMP%]{max-width:400px}[_nghost-%COMP%]   .crt-dashboard-header-spacer[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .crt-dashboard-actions-menu-button[_ngcontent-%COMP%]{flex-shrink:0}.crt-dashboards-list-item-icon[_ngcontent-%COMP%]{min-width:16px;min-height:16px}.content-container[_ngcontent-%COMP%]{margin-top:5px}.crt-dashboards-select-item-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding-inline-start:4px}"],changeDetection:0})}};(0,i.__decorate)([(0,v.k)(),(0,i.__metadata)("design:type",Object),(0,i.__metadata)("design:paramtypes",[Object])],u.prototype,"dashboards",null),(0,i.__decorate)([(0,v.k)(),(0,i.__metadata)("design:type",String)],u.prototype,"selectedDashboard",void 0),(0,i.__decorate)([(0,v.k)({reuseStrategy:{resetValue:!0}}),(0,i.__metadata)("design:type",Object),(0,i.__metadata)("design:paramtypes",[Object])],u.prototype,"filter",null),(0,i.__decorate)([(0,v.k)({reuseStrategy:{resetValue:!0}}),(0,i.__metadata)("design:type",Object),(0,i.__metadata)("design:paramtypes",[Object])],u.prototype,"hierarchicalFilter",null),(0,i.__decorate)([(0,v.k)({reuseStrategy:{resetValue:!0}}),(0,i.__metadata)("design:type",Object),(0,i.__metadata)("design:paramtypes",[Object])],u.prototype,"hierarchicalColumnValue",null),(0,i.__decorate)([(0,B.j)(),(0,i.__metadata)("design:type",Object)],u.prototype,"selectedDashboardChange",void 0),(0,i.__decorate)([(0,B.j)(),(0,i.__metadata)("design:type",Object)],u.prototype,"dashboardsOutdated",void 0),(0,i.__decorate)([(0,B.j)(),(0,i.__metadata)("design:type",Object)],u.prototype,"createDashboard",void 0),(0,i.__decorate)([(0,v.k)(),(0,i.__metadata)("design:type",Boolean)],u.prototype,"canManage",void 0),(0,i.__decorate)([(0,v.k)(),(0,i.__metadata)("design:type",Array)],u.prototype,"headerToolbarItems",void 0),u=(0,i.__decorate)([(0,ye.v)({type:"crt.Dashboards",reuseStrategy:_e.B.Reuse,compatibleAPIs:{[Se.I.Filtration]:{enable:!0,aggregation:!0}}}),(0,Ie.f)({toolbarConfig:{hint:"Components.Dashboards.Hint",position:300,requiredFeatures:{FreedomUIDashboardsEnabled:!0},icon:s(95141)},propertiesPanelComponentTypeName:"crt.DashboardsPropertiesPanel",typeCaption:"Components.Dashboards.Caption",viewElementGroupType:Me.J.Components,designViewItemCommands:{copy:"crt.CopyDataGridItemCommand",delete:"crt.RemoveDashboardsCommand"}}),(0,i.__metadata)("design:paramtypes",[a.Injector,Object,a.ChangeDetectorRef,ne.l2,z.oq,h.MatIconRegistry,p.DomSanitizer,W.f,Object,C.TranslateService])],u);var ze=s(42699),Ze=s(55642),oe=s(59275),ie=s(28627),le=s(31149),de=s(24091),Z=s(97107),ce=s(61148),he=s(96176),Ge=s(84600),Ke=s(12841),T=s(81517),_=s(41287),S=s(844),$=s(40968),I=s(59969),R=s(90983);function H(l,e){if(!e||Object.keys(e).length===0)return l;const t=l.includes("?")?"&":"?",r=Object.entries(e).map(([o,d])=>`${encodeURIComponent(o)}=${encodeURIComponent(d)}`).join("&");let n=`${l}${t}${r}`;return n=n.replace("?&","?"),n}class pt extends T.S{constructor(){super(...arguments),this.type="crt.CreateDashboardRequest"}}let G=class extends _.l{constructor(e){super(),this._window=e}_getOptionalParameters(e){const t={DashboardsClientUnitSchemaUId:e.clientUnitSchemaUId,DashboardsElementName:e.elementName};return e.entitySchemaName&&(t.DashboardsEntitySchemaName=e.entitySchemaName),t}_openUrl(e){const t=(0,R.cI)()+"ClientApp/#/DashboardPageDesigner?",r=H(t,e);this._window.open(r).focus()}_openDashboardDesigner(e){const t=this._getOptionalParameters(e),r={optional:JSON.stringify(t),userLevelSchema:"true"};this._openUrl(r)}handle(e){return this._openDashboardDesigner(e),this.next?.handle(e)}};G=(0,i.__decorate)([(0,S.l)({type:"crt.CreateDashboardHandler",requestType:"crt.CreateDashboardRequest"}),(0,i.__param)(0,(0,$.j)(I.ZP)),(0,i.__metadata)("design:paramtypes",[Window])],G);var F=s(72113),me=s(31774),ke=s(18175);class ut extends T.S{constructor(){super(...arguments),this.type="crt.CopyDashboardRequest"}}let K=class extends _.l{constructor(e,t,r){super(),this._messageDialogProvider=e,this._translateService=t,this._userLevelSchemaService=r,this._deleteDialogPrefix="Dashboards.DialogWindow.DeleteDashboard",this._confirmMessage=this._translateService.instant(`${this._deleteDialogPrefix}.ConfirmationMessage`),this._failDeleteMessage=this._translateService.instant(`${this._deleteDialogPrefix}.FailMessage`)}_deleteDashboard(e){return this._userLevelSchemaService.deleteUserLevelSchema(e).catch(t=>t.error?.errorInfo?(0,m.lastValueFrom)(this._openInfoDialog(t.error.errorInfo.message)):(0,m.lastValueFrom)(this._openInfoDialog(t?.message)))}_openInfoDialog(e){return this._messageDialogProvider.open({data:{message:e,actions:[F.N.OK]}})}handle(e){var t=this;return(0,f.A)(function*(){if(!e.UserLevelSchema||e.ExtendParent)return(0,m.lastValueFrom)(t._openInfoDialog(t._failDeleteMessage));(yield(0,m.lastValueFrom)(t._messageDialogProvider.open({data:{message:t._confirmMessage,actions:[F.N.YES,F.N.NO]}})))===F.N.YES.key&&(yield t._deleteDashboard(e.primaryColumnValue),yield t.next?.handle(e))})()}};K=(0,i.__decorate)([(0,S.l)({type:"crt.DeleteDashboardHandler",requestType:"crt.DeleteDashboardRequest"}),(0,i.__metadata)("design:paramtypes",[me.r,C.TranslateService,ke.w])],K);class gt extends T.S{constructor(){super(...arguments),this.type="crt.EditDashboardRequest"}}let k=class extends _.l{constructor(e,t,r,n){super(),this._window=e,this._rightsService=t,this._translateService=r,this._messageDialogProvider=n}_openUrl(e,t){const r=(0,R.cI)()+`ClientApp/#/InterfaceDesigner/${e}?`,n=H(r,t);this._window.open(n).focus()}_openDashboardDesigner(e){const t={userLevelSchema:"true"};this._openUrl(e.schemaName,t)}handle(e){var t=this;return(0,f.A)(function*(){return(yield(0,m.lastValueFrom)(t._rightsService.getCanEdit({isNew:!1,schemaName:e.entitySchemaName,primaryColumnValue:e.primaryColumnValue}))).result?(t._openDashboardDesigner(e),t.next?.handle(e)):t._messageDialogProvider.open({data:{message:t._translateService.instant("Dashboards.AccessDenied"),actions:[F.N.OK]}})})()}};k=(0,i.__decorate)([(0,S.l)({type:"crt.EditDashboardHandler",requestType:"crt.EditDashboardRequest"}),(0,i.__param)(0,(0,$.j)(I.ZP)),(0,i.__metadata)("design:paramtypes",[Window,W.f,C.TranslateService,me.r])],k);class bt extends T.S{constructor(){super(...arguments),this.type="crt.CopyDashboardRequest"}}let J=class extends _.l{constructor(e){super(),this._window=e}_openUrl(e,t){const r=(0,R.cI)()+`ClientApp/#/InterfaceDesigner/copy/${e}`,n=H(r,t);this._window.open(n).focus()}_openDashboardDesigner(e){const t={userLevelSchema:"true"};this._openUrl(e.schemaName,t)}handle(e){return this._openDashboardDesigner(e),this.next?.handle(e)}};J=(0,i.__decorate)([(0,S.l)({type:"crt.CopyDashboardHandler",requestType:"crt.CopyDashboardRequest"}),(0,i.__param)(0,(0,$.j)(I.ZP)),(0,i.__metadata)("design:paramtypes",[Window])],J);let Q=class extends _.l{handle(e){var t=this;return(0,f.A)(function*(){e.$context.recordRightsWereChangedSubscription?.unsubscribe(),yield t.next?.handle(e)})()}};Q=(0,i.__decorate)([(0,S.l)({requestType:"crt.HandleViewModelPauseRequest",type:"crt.DashboardPageViewModelPauseHandler",scopes:["BaseDashboardTemplate"]})],Q);var Je=s(82863),Qe=s(5240);let X=class extends _.l{constructor(e,t){super(),this._messageChannelService=e,this._broadcastChannelFactory=t}_subscribeOnRecordRightsWereChanged(e){const t=e.$context,r=this._broadcastChannelFactory.createInstance("record-rights-were-changed");t.recordRightsWereChangedSubscription=r.messages$.pipe((0,m.filter)(n=>n?.record?.entitySchemaName==="SysSchemaAdminUnit"),(0,m.map)(n=>n?.record?.primaryColumnValue),(0,m.switchMap)(n=>this._messageChannelService.sendMessage("SchemaManagerItemRightsChangedNotifier",{UId:n,Name:t._scopeName,ManagerName:"ClientUnitSchemaManager"},Je.G.BROADCAST))).subscribe()}handle(e){var t=this;return(0,f.A)(function*(){t._subscribeOnRecordRightsWereChanged(e),yield t.next?.handle(e)})()}};X=(0,i.__decorate)([(0,S.l)({requestType:"crt.HandleViewModelResumeRequest",type:"crt.DashboardPageViewModelResumeHandler",scopes:["BaseDashboardTemplate"]}),(0,i.__metadata)("design:paramtypes",[Qe.A,I.Vx])],X);var Xe=s(7471),Ye=s(71581),qe=s(93135);const U={"crt.ChartWidget":{colSpan:6,rowSpan:9},"crt.IndicatorWidget":{colSpan:3,rowSpan:3},"crt.GaugeWidget":{colSpan:3,rowSpan:3},tsfunnel:{colSpan:6,rowSpan:15},"crt.FunnelWidget":{colSpan:6,rowSpan:15},"crt.FullPipelineWidget":{colSpan:5,rowSpan:15},doughnut:{colSpan:4,rowSpan:9},"crt.ListWidget":{colSpan:6,rowSpan:9}};var pe=s(74368),ue=s(13111),et=s(38641),D=s(28399),tt=s(37827),at=s(50588),rt=s(16319);class w{constructor(){this._userInfo=(0,a.inject)(z.oq),this._dataSchemaRepository=(0,a.inject)(rt.J),this._baseResourcePath=["values.config.title","values.config.text.template","values.config.scales.xAxis.name","values.config.scales.yAxis.name"]}replaceValueWitResourceStringMacros(e,t){for(const r of t){const n=r.name,o=[...this._baseResourcePath],d=(0,D.get)(r,"values.config.series",[])||[];for(const[c]of d.entries())o.push(`values.config.series[${c}].label`);for(const c of o){const g=(0,D.get)(r,c);if(g){const b=new at.h,N=n+"_"+c.replace(/[.[\]]/g,"_");b.setValueLocalizableString(this._userInfo.cultureInfo.sysCultureName,g);const mt=new tt.e({name:N,parentSchemaUId:e.uId,values:b});e.localizableStrings.addItem(mt),(0,D.set)(r,c,`#ResourceString(${N})#`)}}}}replaceResourceStringMacrosWithValue(e,t){for(const r of t){const n=[...this._baseResourcePath],o=(0,D.get)(r,"values.config.series",[])||[];for(const[d]of o.entries())n.push(`values.config.series[${d}].label`);for(const d of n){const c=(0,D.get)(r,d);if(c?.startsWith("#ResourceString(")){const g=c.match(/^#ResourceString\((.*?)\)#$/)?.[1],b=e.resources.strings[g][this._userInfo.cultureInfo.sysCultureName];(0,D.set)(r,d,b)}}}}addDependencies(e,t){var r=this;return(0,f.A)(function*(){const n=yield(0,m.lastValueFrom)(r._dataSchemaRepository.get(t)),o={attributePath:n.primaryAttributeName,relationPath:`DashboardDS.${n.primaryAttributeName}`},d=c=>{c&&!c?.dependencies?.length&&(c.dependencies=[o])};d(e.config?.data?.providing),e.config?.series?.forEach(c=>{d(c?.data?.providing)})})()}static{this.\u0275fac=function(t){return new(t||w)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"})}}var E=s(23681),nt=s(53173),st=s(1624),ot=s(8017);class L{constructor(e,t){this._dialog=e,this.data=t}onActionSelected(e){this._dialog.close(e)}static{this.\u0275fac=function(t){return new(t||L)(a.\u0275\u0275directiveInject(E.MatDialogRef),a.\u0275\u0275directiveInject(E.MAT_DIALOG_DATA))}}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:L,selectors:[["crt-unable-create-dashboard-dialog"]],standalone:!0,features:[a.\u0275\u0275StandaloneFeature],decls:6,vars:5,consts:[[1,"crt-dialog-content",3,"innerHTML"],["align","end",1,"crt-dialog-actions"],["size","extra-large","mat-dialog-close","",3,"clicked"]],template:function(t,r){t&1&&(a.\u0275\u0275element(0,"mat-dialog-content",0),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275pipe(2,"sanitizeHtml"),a.\u0275\u0275elementStart(3,"mat-dialog-actions",1)(4,"crt-button",2),a.\u0275\u0275listener("clicked",function(){return r.onActionSelected("OK")}),a.\u0275\u0275text(5,"OK"),a.\u0275\u0275elementEnd()()),t&2&&a.\u0275\u0275property("innerHTML",a.\u0275\u0275pipeBind1(2,3,a.\u0275\u0275pipeBind1(1,1,r.data.message)),a.\u0275\u0275sanitizeHtml)},dependencies:[E.MatDialogModule,E.MatDialogClose,E.MatDialogActions,E.MatDialogContent,st.X,ot.b,C.TranslateModule,C.TranslatePipe,nt.o,se.B],styles:[".crt-dialog-content[_ngcontent-%COMP%]{word-wrap:break-word;word-break:break-word;white-space:pre-wrap;overflow-wrap:break-word;max-width:100%}"]})}}class ft extends T.S{constructor(){super(...arguments),this.type="crt.CreateDashboardFromWidgetRequest"}}let Y=class extends _.l{constructor(e,t,r,n,o,d,c,g,b){super(),this._window=e,this._crtRouter=t,this._sourceSchemaPartsService=r,this._targetSchemaPartsService=n,this._metadataSchemaUtils=o,this._broadcastChannelFactory=d,this._dashboardPageSchemaFromWidgetService=c,this._translateService=g,this._dialogService=b}_getOptionalParameters(e){const t={DashboardsClientUnitSchemaUId:e.clientUnitSchemaUId,DashboardsElementName:e.elementName};return e.entitySchemaName&&(t.DashboardsEntitySchemaName=e.entitySchemaName),t}_openUrl(e){const t=(0,R.cI)()+"ClientApp/#/DashboardPageDesigner?",r=H(t,e);this._window.open(r,"_blank")}_openDashboardDesigner(e){const t=this._getOptionalParameters(e),r={optional:JSON.stringify(t),dashboardElementName:e.dashboardElementName,userLevelSchema:"true"};this._openUrl(r)}_showUnableToCreateMessage(){const e=this._translateService.instant("HeaderWidget.Menu.CreateDashboard.UnableCreateMessage");this._dialogService.open(L,{data:{message:e},panelClass:["crt-message-dialog","crt-dialog-info","crt-unable-create-dashboard-dialog"],autoFocus:!1})}_getSourceElementViewConfig(e,t){return this._metadataSchemaUtils.getViewConfigInfoByProperty("name",t.elementName,e.viewConfig)[0]?.viewConfig||null}_getDSName(e,t){const r=t.$context;if(!e.items)return;const n=(0,Ye.W)(e);if(n)return r.getBoundDataSourceNameByAttributePath(n)}_getEntitySchemaName(e,t,r){const n=this._getDSName(e,t);return n?r.modelConfig.dataSources?.[n]?.config.entitySchemaName:e?.config?.data?.providing?.schemaName||e?.config?.series?.[0]?.data?.providing?.schemaName}_getTargetDashboard(e,t){const r=this._metadataSchemaUtils.getViewConfigInfoByProperty("type","crt.Dashboards",e.viewConfig);return r.find(({viewConfig:n})=>n._designOptions?.entitySchemaName===t)||r[0]}_setupDiff(e,t,r){return{viewConfigDiff:this._getViewConfigDiff(t,r),modelConfigDiff:this._getModelConfigDiff(e,t,r),viewModelConfigDiff:this._getViewModelDiff(t.elementName,r)}}_getViewConfigDiff(e,t){const r=this._getSourceElementViewConfig(t,e),n=r,o=(0,D.cloneDeep)(r);return o.widgetToolbarItems&&o.widgetToolbarItems.length&&(o.widgetToolbarItems=o.widgetToolbarItems.filter(d=>d.id!==qe.G)),[{operation:"insert",name:e.elementName,values:{...o,layoutConfig:{column:1,colSpan:n?.layoutConfig?.colSpan||U[r.config?.series?.[0]?.type]?.colSpan||U[r.type]?.colSpan,row:1,rowSpan:n?.layoutConfig?.rowSpan||U[r.config?.series?.[0]?.type]?.rowSpan||U[r.type]?.rowSpan}},parentName:"Main",propertyName:"items",index:0}]}_getViewModelDiff(e,t){const r=[],n=this._metadataSchemaUtils.getViewModelAttribute(t,e),o=`${e}_PredefinedFilter`,d=this._metadataSchemaUtils.getViewModelAttribute(t,o);return n&&r.push({operation:"merge",path:[],values:{attributes:{[e]:n}}}),d&&r.push({operation:"merge",path:[],values:{attributes:{[o]:d}}}),r}_getModelConfigDiff(e,t,r){const n=[],o=this._getDSName(e,t),d=r.modelConfig.dataSources?.[o];return d&&n.push({operation:"merge",path:[],values:{dataSources:{[o]:d}}}),n}_setupBroadcastChannel(e,t){const r=this._broadcastChannelFactory.createInstance(e.elementName);this._subscription?.unsubscribe(),e.$context?._subscriptions.remove(this._subscription),this._subscription=r.messages$.pipe((0,m.switchMap)(()=>r.publish(t))).subscribe(),e.$context?._subscriptions.add(this._subscription)}handle(e){var t=this;return(0,f.A)(function*(){const r=t._crtRouter.getActiveRouteInfo();if(!r.schemaName)return t._showUnableToCreateMessage(),t.next?.handle(e);const n=yield(0,m.firstValueFrom)(t._sourceSchemaPartsService.init(e.schemaName,!1)),o=t._getSourceElementViewConfig(n,e),d=t._getEntitySchemaName(o,e,n),c=yield(0,m.firstValueFrom)(t._targetSchemaPartsService.init(r.schemaName,!1)),g=t._getTargetDashboard(c,d);if(!g)return t._showUnableToCreateMessage(),t.next?.handle(e);g.viewConfig?._designOptions?.entitySchemaName===d&&(yield t._dashboardPageSchemaFromWidgetService.addDependencies(o,d));const b=t._setupDiff(o,e,n);return t._dashboardPageSchemaFromWidgetService.replaceResourceStringMacrosWithValue(n,b.viewConfigDiff),t._setupBroadcastChannel(e,b),t._openDashboardDesigner({elementName:g.viewConfig.name,clientUnitSchemaUId:c.uId,entitySchemaName:d,dashboardElementName:e.elementName}),t.next?.handle(e)})()}};Y=(0,i.__decorate)([(0,S.l)({type:"crt.CreateDashboardFromWidgetHandler",requestType:"crt.CreateDashboardFromWidgetRequest"}),(0,i.__param)(0,(0,$.j)(I.ZP)),(0,i.__metadata)("design:paramtypes",[Window,et.f,ue.N,ue.N,pe.u,I.Vx,w,C.TranslateService,Xe.o])],Y);var P=s(74604),it=s(82517),lt=s(41108),q=s(58504),ge=s(56267);const dt="crt.Dashboards",be="_ListData";function fe(l){return l?.name?.replace(/[^\w]/g,"")||De()}function De(){return I.$A.generateUnique("Dashboards")}function Ce(l){return`${fe(l)}_SelectedDashboard`}function ve(l){return`${fe(l)}${be}`}function ct(l){return`${l}${be}`}var ht=s(71281);class V{constructor(e,t){this._profileAttributeService=e,this._translationService=t,this._metadataSchemaUtils=(0,a.inject)(pe.u)}_getDashboardsViewConfigs(e){return this._metadataSchemaUtils.getViewConfigInfoByProperty("type",dt,e).map(t=>t?.viewConfig).filter(Boolean)}_setSelectedDashboardAttribute(e,t){if(!(0,D.isEmpty)(t.selectedDashboard))return;const r=Ce(t);this._profileAttributeService.createOrUpdateAttributeWithChangeRequest(e,t,"selectedDashboard",r)}_setSubscriptionOnDashboardsOutdated(e,t){(0,D.isEmpty)(e.dashboardsOutdated)&&(e.dashboardsOutdated={request:"crt.LoadDataRequest",params:{dataSourceName:`${t}_DS`,config:{loadType:it.I.Reload}}})}_setDashboardsAttribute(e,t,r){t.dashboards="$"+r;let n=e.viewModelConfig.attributes;n||(n=e.viewModelConfig.attributes={}),n[r]={isCollection:!0,viewModelConfig:{attributes:{Id:{modelConfig:{path:`${r}_DS.Id`}},UId:{modelConfig:{path:`${r}_DS.UId`}},Name:{modelConfig:{path:`${r}_DS.Name`}},Code:{modelConfig:{path:`${r}_DS.Code`}},UserLevelSchema:{modelConfig:{path:`${r}_DS.UserLevelSchema`}},ExtendParent:{modelConfig:{path:`${r}_DS.ExtendParent`}}}},modelConfig:{path:`${r}_DS`,sortingConfig:{default:[{direction:"asc",columnName:"Name"}]},filterAttributes:[{name:`${r}_Filter`,loadOnChange:!0}]},embeddedModel:{config:{type:"crt.EntityDataSource",config:{entitySchemaName:"SysFreedomDashboard",adminUnitRoleSources:[P.v[P.v.Self],P.v[P.v.ExplicitEntry],P.v[P.v.Delegated]]}},name:`${r}_DS`}}}_setDashboardsFilterAttribute(e,t,r){let n=e.viewModelConfig.attributes;n||(n=e.viewModelConfig.attributes={});const o=new lt.X;o.addSchemaColumnFilterWithParameter(q.H.Equal,"DashboardsClientUnitSchemaUId",e.uId),o.addSchemaColumnFilterWithParameter(q.H.Equal,"DashboardsElementName",t.name),o.addSchemaColumnFilterWithParameter(q.H.Equal,"UserLevelSchema",!0),n[`${r}_Filter`]={value:o.toJson()}}_pushFilterInRootFilter(e,t,r){e.viewModelConfig.attributes[t.name+"_Filter"].from.push(r)}_addFilterByDependencyAttribute(e,t,r,n){const o=`${t.name}_Dependency_${n}`;e.viewModelConfig.attributes[o]={value:r};const d=`${t.name}_InternalFilterByDependency_${n}`,c=r.relationPath.split(".")[0],g=t._designOptions.entitySchemaName;e.viewModelConfig.attributes[d]={from:"crt.HandleBeforeModelLoadRequest",filter:`crt.ToObjectProp : 'model' | crt.ToObjectProp : 'name' | crt.IsEqual : '${c}'`,converter:`crt.CreateFilterByDependency: $${o} : '${g}'`};const b=`${t.name}_FilterByDependency_${n}`,N=this._metadataSchemaUtils.findAllAttributesByDataSourceAttributePath(e,c)[0];e.viewModelConfig.attributes[b]={from:(0,D.compact)([d,N]),converter:"crt.ToObjectProp: 0"},this._pushFilterInRootFilter(e,t,b)}_addFiltersByDependenciesAttribute(e,t){t._designOptions.dependencies?.forEach((r,n)=>{this._addFilterByDependencyAttribute(e,t,r,n)})}_addPreconfiguredFilterAttribute(e,t){t._designOptions.filters?.forEach(r=>{this._pushFilterInRootFilter(e,t,r.attribute)})}_addFilterAttribute(e,t){const r=t._designOptions?.entitySchemaName;if(!r)return;const n=t.name+"_Filter";e.viewModelConfig.attributes[n]={from:[],converter:`crt.Compact | crt.ToFilterGroup: ${ge.H.And} : '${r}'`},this._addFiltersByDependenciesAttribute(e,t),this._addPreconfiguredFilterAttribute(e,t),t.filter="$"+n}_addHierarchicalFilterAttribute(e,t){t._designOptions.hierarchyConfig?.hierarchicalFilterAttributes?.forEach(r=>{e.viewModelConfig.attributes[t.name+"_HierarchicalFilter"].from.push(r.attribute)})}_addRootHierarchicalFilterAttribute(e,t){const r=t._designOptions.entitySchemaName;if(!r)return;const n=t.name+"_HierarchicalFilter";e.viewModelConfig.attributes[n]={from:[],converter:`crt.Compact | crt.ToFilterGroup: ${ge.H.And} : '${r}'`},this._addHierarchicalFilterAttribute(e,t),t.hierarchicalFilter="$"+n}_bindHierarchicalColumnValueAttribute(e){const t=e._designOptions.hierarchyConfig.hierarchicalColumnValueAttributeName;t&&(e.hierarchicalColumnValue="$"+t)}_bindCreateDashboardRequest(e,t){t.createDashboard={request:"crt.CreateDashboardRequest",params:{entitySchemaName:t._designOptions?.entitySchemaName,clientUnitSchemaUId:e.uId,elementName:t.name}}}_getDefaultHeaderToolbarItems(e,t){const r=[],n={schemaName:e.selectedDashboard,entitySchemaName:"SysSchemaAdminUnit",primaryColumnValue:`${e.selectedDashboard} | crt.FindInCollection:'${t}':'Code' | crt.ToObjectProp:'UId'`};r.push({type:"crt.MenuItem",caption:this._translationService.instant("Dashboards.ActionsToolbar.Edit"),icon:"edit-icon",visible:`${e.selectedDashboard} | crt.ToBoolean`,clicked:{request:"crt.EditDashboardRequest",params:n}});const o={schemaName:e.selectedDashboard};r.push({type:"crt.MenuItem",caption:this._translationService.instant("Dashboards.ActionsToolbar.Copy"),icon:"copy-icon",visible:`${e.selectedDashboard} | crt.ToBoolean`,clicked:{request:"crt.CopyDashboardRequest",params:o}});const d={schemaName:e.selectedDashboard,entitySchemaName:"SysSchemaAdminUnit",primaryColumnValue:`${e.selectedDashboard} | crt.FindInCollection:'${t}':'Code' | crt.ToObjectProp:'UId'`,UserLevelSchema:`${e.selectedDashboard} | crt.FindInCollection:'${t}':'Code' | crt.ToObjectProp:'UserLevelSchema'`,ExtendParent:`${e.selectedDashboard} | crt.FindInCollection:'${t}':'Code' | crt.ToObjectProp:'ExtendParent'`};return r.push({type:"crt.MenuItem",caption:this._translationService.instant("Dashboards.ActionsToolbar.Delete"),icon:"delete-button-icon",visible:`${e.selectedDashboard} | crt.ToBoolean`,clicked:{request:"crt.DeleteDashboardRequest",params:d}}),r.push({type:"crt.MenuItem",caption:this._translationService.instant("Dashboards.ActionsToolbar.Rights"),icon:"lock-button-icon",visible:`${e.selectedDashboard} | crt.ToBoolean`,clicked:{request:"crt.LoadRightsModuleRequest",params:{payload:{primaryColumnValue:`${e.selectedDashboard} | crt.FindInCollection:'${t}':'Code' | crt.ToObjectProp:'UId'`,primaryDisplayColumnValue:`${e.selectedDashboard} | crt.FindInCollection:'${t}':'Code' | crt.ToObjectProp:'Name'`,entitySchemaName:"SysSchemaAdminUnit"}}}}),r}_setHeaderToolbarItems(e,t){(0,D.isEmpty)(e.headerToolbarItems)&&(e.headerToolbarItems=this._getDefaultHeaderToolbarItems(e,t))}crtOnMetaDataInit(e){const t=e,r=this._getDashboardsViewConfigs(t.viewConfig);if(r?.length){for(const n of r)if(this._setSelectedDashboardAttribute(t,n),this._addFilterAttribute(t,n),n._designOptions?.hierarchyConfig&&(this._addRootHierarchicalFilterAttribute(t,n),this._bindHierarchicalColumnValueAttribute(n)),(0,D.isEmpty)(n.dashboards)){const o=ve(n);this._setHeaderToolbarItems(n,o),this._setDashboardsAttribute(t,n,o),this._setDashboardsFilterAttribute(t,n,o),this._setSubscriptionOnDashboardsOutdated(n,o),this._bindCreateDashboardRequest(t,n)}}return Promise.resolve(e)}static{this.\u0275fac=function(t){return new(t||V)(a.\u0275\u0275inject(ht.H),a.\u0275\u0275inject(C.TranslateService))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac})}}let j=class te{static{this.\u0275fac=function(t){return new(t||te)}}static{this.\u0275mod=a.\u0275\u0275defineNgModule({type:te})}static{this.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:Ke.m,useClass:V,multi:!0}],imports:[x.CommonModule,C.TranslateModule,he.c,h.MatIconModule,A.OverlayModule,le.q,de.S,Z.S,oe.V,ie.f,ce.D]})}};j=(0,i.__decorate)([(0,Ze.g)({viewElements:[u],includes:[Z.S],requestHandlers:[G,K,k,J,Q,X,Y]})],j),function(){(typeof ngJitMode>"u"||ngJitMode)&&a.\u0275\u0275setNgModuleScope(j,{declarations:[u],imports:[x.CommonModule,C.TranslateModule,he.c,h.MatIconModule,ze.CdkOption,A.CdkOverlayOrigin,A.OverlayModule,le.q,de.S,Z.S,oe.V,ie.f,Ge.N,ce.D],exports:[u]})}()},63740:(M,O,s)=>{s.d(O,{p:()=>i});var f=s(6530);class i{constructor(h){h&&(this.uId=h.uId,this.name=h.name,this.parentSchemaUId=h.parentSchemaUId),this.uId=this.uId||(0,f.qv)()}update(h){this.uId=h.uId,this.name=h.name}equal(h){if(h==null)return!1;let p=this.uId===h.uId&&this.name===h.name;return(this.parentSchemaUId||h.parentSchemaUId)&&(p=p&&this.parentSchemaUId===h.parentSchemaUId),p}clone(){return new i(this)}getLocalizableValues(h){}loadLocalizableValues(h,p=!1){}}},37827:(M,O,s)=>{s.d(O,{e:()=>a});var f=s(50588),i=s(63740);class a extends i.p{constructor(p){super(p),this.values=new f.h(p?.values)}clone(){return new a(this)}getLocalizableValues(p){super.getLocalizableValues(p),p.values=this.values.clone()}loadLocalizableValues(p,v=!1){super.loadLocalizableValues(p,v),this.values.setValues(p.values,v)}}},95141:M=>{M.exports=`<svg width="72" height="64" viewBox="0 0 72 64" fill="none" xmlns="http://www.w3.org/2000/svg">\r
<rect x="8.5" y="12.5" width="55" height="39" rx="2.5" fill="white" stroke="#70ACEE"/>\r
<path d="M44 34H39V44H44V34Z" fill="#20C964"/>\r
<path d="M51 20H46V44H51V20Z" fill="#0091EA"/>\r
<path d="M58 25H53V44H58V25Z" fill="#8E4AC7"/>\r
<path fill-rule="evenodd" clip-rule="evenodd" d="M28.6581 20.9409C30.631 21.7719 32.3457 23.1155 33.6243 24.8324L30.4166 27.2214C28.9581 25.2661 26.6269 24 24 24C23.6393 24 23.2842 24.0239 22.9361 24.0701L22.4043 20.1066C24.526 19.8219 26.6853 20.11 28.6581 20.9409Z" fill="#32C966"/>\r
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.1529 22.1453C18.7239 21.0537 20.5331 20.3536 22.4297 20.1033L22.953 24.0679C19.0295 24.5808 16 27.9366 16 32C16 33.2885 16.3046 34.5058 16.8458 35.5839L13.2709 37.3747C12.4141 35.6643 11.9786 33.7739 12.0008 31.861C12.023 29.9482 12.5021 28.0683 13.3984 26.3782C14.2946 24.6882 15.5819 23.2368 17.1529 22.1453Z" fill="#0091EA"/>\r
<path fill-rule="evenodd" clip-rule="evenodd" d="M23.9999 40C28.4182 40 31.9999 36.4183 31.9999 32C31.9999 30.0762 31.3209 28.311 30.1894 26.931L33.2834 24.3974C34.7871 26.2337 35.7124 28.4747 35.9425 30.8369C36.1725 33.1991 35.6969 35.5764 34.5758 37.6683C33.4547 39.7602 31.7385 41.4727 29.6441 42.5892C27.557 43.7019 25.1878 44.1729 22.8342 43.9433L22.8097 43.9409C20.7917 43.7399 18.8573 43.0307 17.1875 41.8794C15.5108 40.7235 14.156 39.1598 13.2505 37.3357L16.8325 35.5576C18.142 38.1906 20.8597 40 23.9999 40Z" fill="#8E4AC7"/>\r
</svg>\r
`},24381:M=>{M.exports=`<svg width="100" height="101" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg">\r
	<path d="M85.5 25.75C86.3284 25.75 87 25.0784 87 24.25C87 23.4216 86.3284 22.75 85.5 22.75C84.6716 22.75 84 23.4216 84 24.25C84 25.0784 84.6716 25.75 85.5 25.75Z" fill="#0D2E4E" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M63.5 42.75C64.3284 42.75 65 42.0784 65 41.25C65 40.4216 64.3284 39.75 63.5 39.75C62.6716 39.75 62 40.4216 62 41.25C62 42.0784 62.6716 42.75 63.5 42.75Z" fill="#0D2E4E" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M38.5 39.75C39.3284 39.75 40 39.0784 40 38.25C40 37.4216 39.3284 36.75 38.5 36.75C37.6716 36.75 37 37.4216 37 38.25C37 39.0784 37.6716 39.75 38.5 39.75Z" fill="#0D2E4E" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M12.5 47H88.5" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M25.537 46.8161L38.5 38.2491L63.5 41.2491L85.813 24.2871" stroke="#0D2E4E"/>\r
	<path d="M39 47H31V59H39V47Z" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M39 48.5H31V52.5H39V48.5Z" fill="#0D2E4E" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M54 48.5H46V59.5H54V48.5Z" fill="#0D2E4E" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M69 48.5H61V52.5H69V48.5Z" fill="#0D2E4E" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M54 47H46V79H54V47Z" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M69 47H61V73H69V47Z" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M69 16.5V7.5H61V16.5" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M53 16.5V12.5H45V16.5" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M74.778 28H26.199L22.999 20H77.178L74.778 28Z" stroke="#0D2E4E" stroke-width="2"/>\r
	<path d="M31.299 41.129L27.967 33H70.867" stroke="#0D2E4E" stroke-width="2"/>\r
</svg>\r
`}}]);
