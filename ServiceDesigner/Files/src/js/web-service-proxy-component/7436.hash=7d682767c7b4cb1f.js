(self.webpackChunkapp_studio_enterprise_web_service=self.webpackChunkapp_studio_enterprise_web_service||[]).push([[7436],{37436:(_n,ye,y)=>{y.r(ye),y.d(ye,{commonmarkLanguage:()=>Nt,deleteMarkupBackward:()=>Ut,insertNewlineContinueMarkup:()=>Dt,markdown:()=>Cn,markdownKeymap:()=>Wt,markdownLanguage:()=>j,pasteURLAsLink:()=>Ft});var C=y(20920),ee=y(27875),x=y(79273),Kt=y(81299),P=y(64533),g=y(31616);class U{static create(t,r,n,s,a){let l=s+(s<<8)+t+(r<<4)|0;return new U(t,r,n,l,a,[],[])}constructor(t,r,n,s,a,l,i){this.type=t,this.value=r,this.from=n,this.hash=s,this.end=a,this.children=l,this.positions=i,this.hashProp=[[P.uY.contextHash,s]]}addChild(t,r){t.prop(P.uY.contextHash)!=this.hash&&(t=new P.PH(t.type,t.children,t.positions,t.length,this.hashProp)),this.children.push(t),this.positions.push(r)}toTree(t,r=this.end){let n=this.children.length-1;return n>=0&&(r=Math.max(r,this.positions[n]+this.children[n].length+this.from)),new P.PH(t.types[this.type],this.children,this.positions,r-this.from).balance({makeTree:(s,a,l)=>new P.PH(P.Z6.none,s,a,l,this.hashProp)})}}var f;(function(e){e[e.Document=1]="Document",e[e.CodeBlock=2]="CodeBlock",e[e.FencedCode=3]="FencedCode",e[e.Blockquote=4]="Blockquote",e[e.HorizontalRule=5]="HorizontalRule",e[e.BulletList=6]="BulletList",e[e.OrderedList=7]="OrderedList",e[e.ListItem=8]="ListItem",e[e.ATXHeading1=9]="ATXHeading1",e[e.ATXHeading2=10]="ATXHeading2",e[e.ATXHeading3=11]="ATXHeading3",e[e.ATXHeading4=12]="ATXHeading4",e[e.ATXHeading5=13]="ATXHeading5",e[e.ATXHeading6=14]="ATXHeading6",e[e.SetextHeading1=15]="SetextHeading1",e[e.SetextHeading2=16]="SetextHeading2",e[e.HTMLBlock=17]="HTMLBlock",e[e.LinkReference=18]="LinkReference",e[e.Paragraph=19]="Paragraph",e[e.CommentBlock=20]="CommentBlock",e[e.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",e[e.Escape=22]="Escape",e[e.Entity=23]="Entity",e[e.HardBreak=24]="HardBreak",e[e.Emphasis=25]="Emphasis",e[e.StrongEmphasis=26]="StrongEmphasis",e[e.Link=27]="Link",e[e.Image=28]="Image",e[e.InlineCode=29]="InlineCode",e[e.HTMLTag=30]="HTMLTag",e[e.Comment=31]="Comment",e[e.ProcessingInstruction=32]="ProcessingInstruction",e[e.Autolink=33]="Autolink",e[e.HeaderMark=34]="HeaderMark",e[e.QuoteMark=35]="QuoteMark",e[e.ListMark=36]="ListMark",e[e.LinkMark=37]="LinkMark",e[e.EmphasisMark=38]="EmphasisMark",e[e.CodeMark=39]="CodeMark",e[e.CodeText=40]="CodeText",e[e.CodeInfo=41]="CodeInfo",e[e.LinkTitle=42]="LinkTitle",e[e.LinkLabel=43]="LinkLabel",e[e.URL=44]="URL"})(f||(f={}));class Jt{constructor(t,r){this.start=t,this.content=r,this.marks=[],this.parsers=[]}}class er{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let t=this.skipSpace(this.basePos);this.indent=this.countIndent(t,this.pos,this.indent),this.pos=t,this.next=t==this.text.length?-1:this.text.charCodeAt(t)}skipSpace(t){return Q(this.text,t)}reset(t){for(this.text=t,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(t){this.basePos=t,this.baseIndent=this.countIndent(t,this.pos,this.indent)}moveBaseColumn(t){this.baseIndent=t,this.basePos=this.findColumn(t)}addMarker(t){this.markers.push(t)}countIndent(t,r=0,n=0){for(let s=r;s<t;s++)n+=this.text.charCodeAt(s)==9?4-n%4:1;return n}findColumn(t){let r=0;for(let n=0;r<this.text.length&&n<t;r++)n+=this.text.charCodeAt(r)==9?4-n%4:1;return r}scrub(){if(!this.baseIndent)return this.text;let t="";for(let r=0;r<this.basePos;r++)t+=" ";return t+this.text.slice(this.basePos)}}function Ve(e,t,r){if(r.pos==r.text.length||e!=t.block&&r.indent>=t.stack[r.depth+1].value+r.baseIndent)return!0;if(r.indent>=r.baseIndent+4)return!1;let n=(e.type==f.OrderedList?ne:re)(r,t,!1);return n>0&&(e.type!=f.BulletList||te(r,t,!1)<0)&&r.text.charCodeAt(r.pos+n-1)==e.value}const _e={[f.Blockquote](e,t,r){return r.next!=62?!1:(r.markers.push(k(f.QuoteMark,t.lineStart+r.pos,t.lineStart+r.pos+1)),r.moveBase(r.pos+(L(r.text.charCodeAt(r.pos+1))?2:1)),e.end=t.lineStart+r.text.length,!0)},[f.ListItem](e,t,r){return r.indent<r.baseIndent+e.value&&r.next>-1?!1:(r.moveBaseColumn(r.baseIndent+e.value),!0)},[f.OrderedList]:Ve,[f.BulletList]:Ve,[f.Document](){return!0}};function L(e){return e==32||e==9||e==10||e==13}function Q(e,t=0){for(;t<e.length&&L(e.charCodeAt(t));)t++;return t}function Ee(e,t,r){for(;t>r&&L(e.charCodeAt(t-1));)t--;return t}function Xe(e){if(e.next!=96&&e.next!=126)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;if(t<e.pos+3)return-1;if(e.next==96){for(let r=t;r<e.text.length;r++)if(e.text.charCodeAt(r)==96)return-1}return t}function Be(e){return e.next!=62?-1:e.text.charCodeAt(e.pos+1)==32?2:1}function te(e,t,r){if(e.next!=42&&e.next!=45&&e.next!=95)return-1;let n=1;for(let s=e.pos+1;s<e.text.length;s++){let a=e.text.charCodeAt(s);if(a==e.next)n++;else if(!L(a))return-1}return r&&e.next==45&&Ie(e)>-1&&e.depth==t.stack.length&&t.parser.leafBlockParsers.indexOf(Ne.SetextHeading)>-1||n<3?-1:1}function Me(e,t){for(let r=e.stack.length-1;r>=0;r--)if(e.stack[r].type==t)return!0;return!1}function re(e,t,r){return(e.next==45||e.next==43||e.next==42)&&(e.pos==e.text.length-1||L(e.text.charCodeAt(e.pos+1)))&&(!r||Me(t,f.BulletList)||e.skipSpace(e.pos+2)<e.text.length)?1:-1}function ne(e,t,r){let n=e.pos,s=e.next;for(;s>=48&&s<=57;){n++;if(n==e.text.length)return-1;s=e.text.charCodeAt(n)}return n==e.pos||n>e.pos+9||s!=46&&s!=41||n<e.text.length-1&&!L(e.text.charCodeAt(n+1))||r&&!Me(t,f.OrderedList)&&(e.skipSpace(n+1)==e.text.length||n>e.pos+1||e.next!=49)?-1:n+1-e.pos}function $e(e){if(e.next!=35)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==35;)t++;if(t<e.text.length&&e.text.charCodeAt(t)!=32)return-1;let r=t-e.pos;return r>6?-1:r}function Ie(e){if(e.next!=45&&e.next!=61||e.indent>=e.baseIndent+4)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;let r=t;for(;t<e.text.length&&L(e.text.charCodeAt(t));)t++;return t==e.text.length?r:-1}const se=/^[ \t]*$/,qe=/-->/,Re=/\?>/,ae=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,qe],[/^\s*<\?/,Re],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,se],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,se]];function Qe(e,t,r){if(e.next!=60)return-1;let n=e.text.slice(e.pos);for(let s=0,a=ae.length-(r?1:0);s<a;s++)if(ae[s][0].test(n))return s;return-1}function Ye(e,t){let r=e.countIndent(t,e.pos,e.indent),n=e.countIndent(e.skipSpace(t),t,r);return n>=r+5?r+1:n}function _(e,t,r){let n=e.length-1;n>=0&&e[n].to==t&&e[n].type==f.CodeText?e[n].to=r:e.push(k(f.CodeText,t,r))}const W={LinkReference:void 0,IndentedCode(e,t){let r=t.baseIndent+4;if(t.indent<r)return!1;let n=t.findColumn(r),s=e.lineStart+n,a=e.lineStart+t.text.length,l=[],i=[];for(_(l,s,a);e.nextLine()&&t.depth>=e.stack.length;)if(t.pos==t.text.length){_(i,e.lineStart-1,e.lineStart);for(let o of t.markers)i.push(o)}else{if(t.indent<r)break;{if(i.length){for(let d of i)d.type==f.CodeText?_(l,d.from,d.to):l.push(d);i=[]}_(l,e.lineStart-1,e.lineStart);for(let d of t.markers)l.push(d);a=e.lineStart+t.text.length;let o=e.lineStart+t.findColumn(t.baseIndent+4);o<a&&_(l,o,a)}}return i.length&&(i=i.filter(o=>o.type!=f.CodeText),i.length&&(t.markers=i.concat(t.markers))),e.addNode(e.buffer.writeElements(l,-s).finish(f.CodeBlock,a-s),s),!0},FencedCode(e,t){let r=Xe(t);if(r<0)return!1;let n=e.lineStart+t.pos,s=t.next,a=r-t.pos,l=t.skipSpace(r),i=Ee(t.text,t.text.length,l),o=[k(f.CodeMark,n,n+a)];l<i&&o.push(k(f.CodeInfo,e.lineStart+l,e.lineStart+i));for(let d=!0;e.nextLine()&&t.depth>=e.stack.length;d=!1){let u=t.pos;if(t.indent-t.baseIndent<4)for(;u<t.text.length&&t.text.charCodeAt(u)==s;)u++;if(u-t.pos>=a&&t.skipSpace(u)==t.text.length){for(let p of t.markers)o.push(p);o.push(k(f.CodeMark,e.lineStart+t.pos,e.lineStart+u)),e.nextLine();break}else{d||_(o,e.lineStart-1,e.lineStart);for(let c of t.markers)o.push(c);let p=e.lineStart+t.basePos,h=e.lineStart+t.text.length;p<h&&_(o,p,h)}}return e.addNode(e.buffer.writeElements(o,-n).finish(f.FencedCode,e.prevLineEnd()-n),n),!0},Blockquote(e,t){let r=Be(t);return r<0?!1:(e.startContext(f.Blockquote,t.pos),e.addNode(f.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1),t.moveBase(t.pos+r),null)},HorizontalRule(e,t){if(te(t,e,!1)<0)return!1;let r=e.lineStart+t.pos;return e.nextLine(),e.addNode(f.HorizontalRule,r),!0},BulletList(e,t){let r=re(t,e,!1);if(r<0)return!1;e.block.type!=f.BulletList&&e.startContext(f.BulletList,t.basePos,t.next);let n=Ye(t,t.pos+1);return e.startContext(f.ListItem,t.basePos,n-t.baseIndent),e.addNode(f.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+r),t.moveBaseColumn(n),null},OrderedList(e,t){let r=ne(t,e,!1);if(r<0)return!1;e.block.type!=f.OrderedList&&e.startContext(f.OrderedList,t.basePos,t.text.charCodeAt(t.pos+r-1));let n=Ye(t,t.pos+r);return e.startContext(f.ListItem,t.basePos,n-t.baseIndent),e.addNode(f.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+r),t.moveBaseColumn(n),null},ATXHeading(e,t){let r=$e(t);if(r<0)return!1;let n=t.pos,s=e.lineStart+n,a=Ee(t.text,t.text.length,n),l=a;for(;l>n&&t.text.charCodeAt(l-1)==t.next;)l--;(l==a||l==n||!L(t.text.charCodeAt(l-1)))&&(l=t.text.length);let i=e.buffer.write(f.HeaderMark,0,r).writeElements(e.parser.parseInline(t.text.slice(n+r+1,l),s+r+1),-s);l<t.text.length&&i.write(f.HeaderMark,l-n,a-n);let o=i.finish(f.ATXHeading1-1+r,t.text.length-n);return e.nextLine(),e.addNode(o,s),!0},HTMLBlock(e,t){let r=Qe(t,e,!1);if(r<0)return!1;let n=e.lineStart+t.pos,s=ae[r][1],a=[],l=s!=se;for(;!s.test(t.text)&&e.nextLine();){if(t.depth<e.stack.length){l=!1;break}for(let d of t.markers)a.push(d)}l&&e.nextLine();let i=s==qe?f.CommentBlock:s==Re?f.ProcessingInstructionBlock:f.HTMLBlock,o=e.prevLineEnd();return e.addNode(e.buffer.writeElements(a,-n).finish(i,o-n),n),!0},SetextHeading:void 0};class tr{constructor(t){this.stage=0,this.elts=[],this.pos=0,this.start=t.start,this.advance(t.content)}nextLine(t,r,n){if(this.stage==-1)return!1;let s=n.content+`
`+r.scrub(),a=this.advance(s);return a>-1&&a<s.length?this.complete(t,n,a):!1}finish(t,r){return(this.stage==2||this.stage==3)&&Q(r.content,this.pos)==r.content.length?this.complete(t,r,r.content.length):!1}complete(t,r,n){return t.addLeafElement(r,k(f.LinkReference,this.start,this.start+n,this.elts)),!0}nextStage(t){return t?(this.pos=t.to-this.start,this.elts.push(t),this.stage++,!0):(t===!1&&(this.stage=-1),!1)}advance(t){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(Ke(t,this.pos,this.start,!0)))return-1;if(t.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(k(f.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(Ge(t,Q(t,this.pos),this.start)))return-1}else if(this.stage==2){let r=Q(t,this.pos),n=0;if(r>this.pos){let s=Fe(t,r,this.start);if(s){let a=le(t,s.to-this.start);a>0&&(this.nextStage(s),n=a)}}return n||(n=le(t,this.pos)),n>0&&n<t.length?n:-1}else return le(t,this.pos)}}}function le(e,t){for(;t<e.length;t++){let r=e.charCodeAt(t);if(r==10)break;if(!L(r))return-1}return t}class rr{nextLine(t,r,n){let s=r.depth<t.stack.length?-1:Ie(r),a=r.next;if(s<0)return!1;let l=k(f.HeaderMark,t.lineStart+r.pos,t.lineStart+s);return t.nextLine(),t.addLeafElement(n,k(a==61?f.SetextHeading1:f.SetextHeading2,n.start,t.prevLineEnd(),[...t.parser.parseInline(n.content,n.start),l])),!0}finish(){return!1}}const Ne={LinkReference(e,t){return t.content.charCodeAt(0)==91?new tr(t):null},SetextHeading(){return new rr}},nr=[(e,t)=>$e(t)>=0,(e,t)=>Xe(t)>=0,(e,t)=>Be(t)>=0,(e,t)=>re(t,e,!0)>=0,(e,t)=>ne(t,e,!0)>=0,(e,t)=>te(t,e,!0)>=0,(e,t)=>Qe(t,e,!0)>=0],sr={text:"",end:0};class ar{constructor(t,r,n,s){this.parser=t,this.input=r,this.ranges=s,this.line=new er,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=s[s.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=s[0].from,this.block=U.create(f.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=n.length?new ur(n,r):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:t}=this;for(;;){for(let n=0;;){let s=t.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;n<t.markers.length&&(!s||t.markers[n].from<s.end);){let a=t.markers[n++];this.addNode(a.type,a.from,a.to)}if(!s)break;this.finishContext()}if(t.pos<t.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(t.basePos))return null;e:for(;;){for(let n of this.parser.blockParsers)if(n){let s=n(this,t);if(s!=!1){if(s==!0)return null;t.forward();continue e}}break}let r=new Jt(this.lineStart+t.pos,t.text.slice(t.pos));for(let n of this.parser.leafBlockParsers)if(n){let s=n(this,r);s&&r.parsers.push(s)}e:for(;this.nextLine()&&t.pos!=t.text.length;){if(t.indent<t.baseIndent+4){for(let n of this.parser.endLeafBlock)if(n(this,t,r))break e}for(let n of r.parsers)if(n.nextLine(this,t,r))return null;r.content+=`
`+t.scrub();for(let n of t.markers)r.marks.push(n)}return this.finishLeaf(r),null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}reuseFragment(t){if(!this.fragments.moveTo(this.absoluteLineStart+t,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let r=this.fragments.takeNodes(this);return r?(this.absoluteLineStart+=r,this.lineStart=Je(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(t=this.depth-1){return this.parser.nodeSet.types[this.stack[t].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(t){let r=sr;if(r.end=t,t>=this.to)r.text="";else if(r.text=this.lineChunkAt(t),r.end+=r.text.length,this.ranges.length>1){let n=this.absoluteLineStart,s=this.rangeI;for(;this.ranges[s].to<r.end;){s++;let a=this.ranges[s].from,l=this.lineChunkAt(a);r.end=a+l.length,r.text=r.text.slice(0,this.ranges[s-1].to-n)+l,n=r.end-r.text.length}}return r}readLine(){let{line:t}=this,{text:r,end:n}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=n,t.reset(r);t.depth<this.stack.length;t.depth++){let s=this.stack[t.depth],a=this.parser.skipContextMarkup[s.type];if(!a)throw new Error("Unhandled block context "+f[s.type]);if(!a(s,this,t))break;t.forward()}}lineChunkAt(t){let r=this.input.chunk(t),n;if(this.input.lineChunks)n=r==`
`?"":r;else{let s=r.indexOf(`
`);n=s<0?r:r.slice(0,s)}return t+n.length>this.to?n.slice(0,this.to-t):n}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(t,r,n=0){this.block=U.create(t,n,this.lineStart+r,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(t,r,n=0){this.startContext(this.parser.getNodeType(t),r,n)}addNode(t,r,n){typeof t=="number"&&(t=new P.PH(this.parser.nodeSet.types[t],B,B,(n??this.prevLineEnd())-r)),this.block.addChild(t,r-this.block.from)}addElement(t){this.block.addChild(t.toTree(this.parser.nodeSet),t.from-this.block.from)}addLeafElement(t,r){this.addNode(this.buffer.writeElements(de(r.children,t.marks),-r.from).finish(r.type,r.to-r.from),r.from)}finishContext(){let t=this.stack.pop(),r=this.stack[this.stack.length-1];r.addChild(t.toTree(this.parser.nodeSet),t.from-r.from),this.block=r}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(t){return this.ranges.length>1?He(this.ranges,0,t.topNode,this.ranges[0].from,this.reusePlaceholders):t}finishLeaf(t){for(let n of t.parsers)if(n.finish(this,t))return;let r=de(this.parser.parseInline(t.content,t.start),t.marks);this.addNode(this.buffer.writeElements(r,-t.start).finish(f.Paragraph,t.content.length),t.start)}elt(t,r,n,s){return typeof t=="string"?k(this.parser.getNodeType(t),r,n,s):new Ze(t,r)}get buffer(){return new De(this.parser.nodeSet)}}function He(e,t,r,n,s){let a=e[t].to,l=[],i=[],o=r.from+n;function d(u,p){for(;p?u>=a:u>a;){let h=e[t+1].from-a;n+=h,u+=h,t++,a=e[t].to}}for(let u=r.firstChild;u;u=u.nextSibling){d(u.from+n,!0);let p=u.from+n,h,c=s.get(u.tree);c?h=c:u.to+n>a?(h=He(e,t,u,n,s),d(u.to+n,!1)):h=u.toTree(),l.push(h),i.push(p-o)}return d(r.to+n,!1),new P.PH(r.type,l,i,r.to+n-o,r.tree?r.tree.propValues:void 0)}class G extends P.iX{constructor(t,r,n,s,a,l,i,o,d){super(),this.nodeSet=t,this.blockParsers=r,this.leafBlockParsers=n,this.blockNames=s,this.endLeafBlock=a,this.skipContextMarkup=l,this.inlineParsers=i,this.inlineNames=o,this.wrappers=d,this.nodeTypes=Object.create(null);for(let u of t.types)this.nodeTypes[u.name]=u.id}createParse(t,r,n){let s=new ar(this,t,r,n);for(let a of this.wrappers)s=a(s,t,r,n);return s}configure(t){let r=ie(t);if(!r)return this;let{nodeSet:n,skipContextMarkup:s}=this,a=this.blockParsers.slice(),l=this.leafBlockParsers.slice(),i=this.blockNames.slice(),o=this.inlineParsers.slice(),d=this.inlineNames.slice(),u=this.endLeafBlock.slice(),p=this.wrappers;if(Y(r.defineNodes)){s=Object.assign({},s);let h=n.types.slice(),c;for(let O of r.defineNodes){let{name:S,block:b,composite:A,style:w}=typeof O=="string"?{name:O}:O;if(h.some(X=>X.name==S))continue;A&&(s[h.length]=(X,yn,Vn)=>A(yn,Vn,X.value));let V=h.length,R=A?["Block","BlockContext"]:b?V>=f.ATXHeading1&&V<=f.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;h.push(P.Z6.define({id:V,name:S,props:R&&[[P.uY.group,R]]})),w&&(c||(c={}),Array.isArray(w)||w instanceof g.vw?c[S]=w:Object.assign(c,w))}n=new P.fI(h),c&&(n=n.extend((0,g.pn)(c)))}if(Y(r.props)&&(n=n.extend(...r.props)),Y(r.remove))for(let h of r.remove){let c=this.blockNames.indexOf(h),O=this.inlineNames.indexOf(h);c>-1&&(a[c]=l[c]=void 0),O>-1&&(o[O]=void 0)}if(Y(r.parseBlock))for(let h of r.parseBlock){let c=i.indexOf(h.name);if(c>-1)a[c]=h.parse,l[c]=h.leaf;else{let O=h.before?F(i,h.before):h.after?F(i,h.after)+1:i.length-1;a.splice(O,0,h.parse),l.splice(O,0,h.leaf),i.splice(O,0,h.name)}h.endLeaf&&u.push(h.endLeaf)}if(Y(r.parseInline))for(let h of r.parseInline){let c=d.indexOf(h.name);if(c>-1)o[c]=h.parse;else{let O=h.before?F(d,h.before):h.after?F(d,h.after)+1:d.length-1;o.splice(O,0,h.parse),d.splice(O,0,h.name)}}return r.wrap&&(p=p.concat(r.wrap)),new G(n,a,l,i,u,s,o,d,p)}getNodeType(t){let r=this.nodeTypes[t];if(r==null)throw new RangeError(`Unknown node type '${t}'`);return r}parseInline(t,r){let n=new ir(this,t,r);e:for(let s=r;s<n.end;){let a=n.char(s);for(let l of this.inlineParsers)if(l){let i=l(n,a,s);if(i>=0){s=i;continue e}}s++}return n.resolveMarkers(0)}}function Y(e){return e!=null&&e.length>0}function ie(e){if(!Array.isArray(e))return e;if(e.length==0)return null;let t=ie(e[0]);if(e.length==1)return t;let r=ie(e.slice(1));if(!r||!t)return t||r;let n=(l,i)=>(l||B).concat(i||B),s=t.wrap,a=r.wrap;return{props:n(t.props,r.props),defineNodes:n(t.defineNodes,r.defineNodes),parseBlock:n(t.parseBlock,r.parseBlock),parseInline:n(t.parseInline,r.parseInline),remove:n(t.remove,r.remove),wrap:s?a?(l,i,o,d)=>s(a(l,i,o,d),i,o,d):s:a}}function F(e,t){let r=e.indexOf(t);if(r<0)throw new RangeError(`Position specified relative to unknown parser ${t}`);return r}let ze=[P.Z6.none];for(let e=1,t;t=f[e];e++)ze[e]=P.Z6.define({id:e,name:t,props:e>=f.Escape?[]:[[P.uY.group,e in _e?["Block","BlockContext"]:["Block","LeafBlock"]]],top:t=="Document"});const B=[];class De{constructor(t){this.nodeSet=t,this.content=[],this.nodes=[]}write(t,r,n,s=0){return this.content.push(t,r,n,4+s*4),this}writeElements(t,r=0){for(let n of t)n.writeTo(this,r);return this}finish(t,r){return P.PH.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:t,length:r})}}class N{constructor(t,r,n,s=B){this.type=t,this.from=r,this.to=n,this.children=s}writeTo(t,r){let n=t.content.length;t.writeElements(this.children,r),t.content.push(this.type,this.from+r,this.to+r,t.content.length+4-n)}toTree(t){return new De(t).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}}class Ze{constructor(t,r){this.tree=t,this.from=r}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return B}writeTo(t,r){t.nodes.push(this.tree),t.content.push(t.nodes.length-1,this.from+r,this.to+r,-1)}toTree(){return this.tree}}function k(e,t,r,n){return new N(e,t,r,n)}const je={resolve:"Emphasis",mark:"EmphasisMark"},Ue={resolve:"Emphasis",mark:"EmphasisMark"},M={},oe={};class v{constructor(t,r,n,s){this.type=t,this.from=r,this.to=n,this.side=s}}const We="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let H=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{H=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const ue={Escape(e,t,r){if(t!=92||r==e.end-1)return-1;let n=e.char(r+1);for(let s=0;s<We.length;s++)if(We.charCodeAt(s)==n)return e.append(k(f.Escape,r,r+2));return-1},Entity(e,t,r){if(t!=38)return-1;let n=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(e.slice(r+1,r+31));return n?e.append(k(f.Entity,r,r+1+n[0].length)):-1},InlineCode(e,t,r){if(t!=96||r&&e.char(r-1)==96)return-1;let n=r+1;for(;n<e.end&&e.char(n)==96;)n++;let s=n-r,a=0;for(;n<e.end;n++)if(e.char(n)==96){if(a++,a==s&&e.char(n+1)!=96)return e.append(k(f.InlineCode,r,n+1,[k(f.CodeMark,r,r+s),k(f.CodeMark,n+1-s,n+1)]))}else a=0;return-1},HTMLTag(e,t,r){if(t!=60||r==e.end-1)return-1;let n=e.slice(r+1,e.end),s=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(n);if(s)return e.append(k(f.Autolink,r,r+1+s[0].length,[k(f.LinkMark,r,r+1),k(f.URL,r+1,r+s[0].length),k(f.LinkMark,r+s[0].length,r+1+s[0].length)]));let a=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(n);if(a)return e.append(k(f.Comment,r,r+1+a[0].length));let l=/^\?[^]*?\?>/.exec(n);if(l)return e.append(k(f.ProcessingInstruction,r,r+1+l[0].length));let i=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(n);return i?e.append(k(f.HTMLTag,r,r+1+i[0].length)):-1},Emphasis(e,t,r){if(t!=95&&t!=42)return-1;let n=r+1;for(;e.char(n)==t;)n++;let s=e.slice(r-1,r),a=e.slice(n,n+1),l=H.test(s),i=H.test(a),o=/\s|^$/.test(s),d=/\s|^$/.test(a),u=!d&&(!i||o||l),p=!o&&(!l||d||i),h=u&&(t==42||!p||l),c=p&&(t==42||!u||i);return e.append(new v(t==95?je:Ue,r,n,(h?1:0)|(c?2:0)))},HardBreak(e,t,r){if(t==92&&e.char(r+1)==10)return e.append(k(f.HardBreak,r,r+2));if(t==32){let n=r+1;for(;e.char(n)==32;)n++;if(e.char(n)==10&&n>=r+2)return e.append(k(f.HardBreak,r,n+1))}return-1},Link(e,t,r){return t==91?e.append(new v(M,r,r+1,1)):-1},Image(e,t,r){return t==33&&e.char(r+1)==91?e.append(new v(oe,r,r+2,1)):-1},LinkEnd(e,t,r){if(t!=93)return-1;for(let n=e.parts.length-1;n>=0;n--){let s=e.parts[n];if(s instanceof v&&(s.type==M||s.type==oe)){if(!s.side||e.skipSpace(s.to)==r&&!/[(\[]/.test(e.slice(r+1,r+2)))return e.parts[n]=null,-1;let a=e.takeContent(n),l=e.parts[n]=lr(e,a,s.type==M?f.Link:f.Image,s.from,r+1);if(s.type==M)for(let i=0;i<n;i++){let o=e.parts[i];o instanceof v&&o.type==M&&(o.side=0)}return l.to}}return-1}};function lr(e,t,r,n,s){let{text:a}=e,l=e.char(s),i=s;if(t.unshift(k(f.LinkMark,n,n+(r==f.Image?2:1))),t.push(k(f.LinkMark,s-1,s)),l==40){let o=e.skipSpace(s+1),d=Ge(a,o-e.offset,e.offset),u;d&&(o=e.skipSpace(d.to),o!=d.to&&(u=Fe(a,o-e.offset,e.offset),u&&(o=e.skipSpace(u.to)))),e.char(o)==41&&(t.push(k(f.LinkMark,s,s+1)),i=o+1,d&&t.push(d),u&&t.push(u),t.push(k(f.LinkMark,o,i)))}else if(l==91){let o=Ke(a,s-e.offset,e.offset,!1);o&&(t.push(o),i=o.to)}return k(r,n,i,t)}function Ge(e,t,r){if(e.charCodeAt(t)==60){for(let s=t+1;s<e.length;s++){let a=e.charCodeAt(s);if(a==62)return k(f.URL,t+r,s+1+r);if(a==60||a==10)return!1}return null}else{let s=0,a=t;for(let l=!1;a<e.length;a++){let i=e.charCodeAt(a);if(L(i))break;if(l)l=!1;else if(i==40)s++;else if(i==41){if(!s)break;s--}else i==92&&(l=!0)}return a>t?k(f.URL,t+r,a+r):a==e.length?null:!1}}function Fe(e,t,r){let n=e.charCodeAt(t);if(n!=39&&n!=34&&n!=40)return!1;let s=n==40?41:n;for(let a=t+1,l=!1;a<e.length;a++){let i=e.charCodeAt(a);if(l)l=!1;else{if(i==s)return k(f.LinkTitle,t+r,a+1+r);i==92&&(l=!0)}}return null}function Ke(e,t,r,n){for(let s=!1,a=t+1,l=Math.min(e.length,a+999);a<l;a++){let i=e.charCodeAt(a);if(s)s=!1;else{if(i==93)return n?!1:k(f.LinkLabel,t+r,a+1+r);if(n&&!L(i)&&(n=!1),i==91)return!1;i==92&&(s=!0)}}return null}class ir{constructor(t,r,n){this.parser=t,this.text=r,this.offset=n,this.parts=[]}char(t){return t>=this.end?-1:this.text.charCodeAt(t-this.offset)}get end(){return this.offset+this.text.length}slice(t,r){return this.text.slice(t-this.offset,r-this.offset)}append(t){return this.parts.push(t),t.to}addDelimiter(t,r,n,s,a){return this.append(new v(t,r,n,(s?1:0)|(a?2:0)))}get hasOpenLink(){for(let t=this.parts.length-1;t>=0;t--){let r=this.parts[t];if(r instanceof v&&(r.type==M||r.type==oe))return!0}return!1}addElement(t){return this.append(t)}resolveMarkers(t){for(let n=t;n<this.parts.length;n++){let s=this.parts[n];if(!(s instanceof v&&s.type.resolve&&s.side&2))continue;let a=s.type==je||s.type==Ue,l=s.to-s.from,i,o=n-1;for(;o>=t;o--){let S=this.parts[o];if(S instanceof v&&S.side&1&&S.type==s.type&&!(a&&(s.side&1||S.side&2)&&(S.to-S.from+l)%3==0&&((S.to-S.from)%3||l%3))){i=S;break}}if(!i)continue;let d=s.type.resolve,u=[],p=i.from,h=s.to;if(a){let S=Math.min(2,i.to-i.from,l);p=i.to-S,h=s.from+S,d=S==1?"Emphasis":"StrongEmphasis"}i.type.mark&&u.push(this.elt(i.type.mark,p,i.to));for(let S=o+1;S<n;S++)this.parts[S]instanceof N&&u.push(this.parts[S]),this.parts[S]=null;s.type.mark&&u.push(this.elt(s.type.mark,s.from,h));let c=this.elt(d,p,h,u);this.parts[o]=a&&i.from!=p?new v(i.type,i.from,p,i.side):null,(this.parts[n]=a&&s.to!=h?new v(s.type,h,s.to,s.side):null)?this.parts.splice(n,0,c):this.parts[n]=c}let r=[];for(let n=t;n<this.parts.length;n++){let s=this.parts[n];s instanceof N&&r.push(s)}return r}findOpeningDelimiter(t){for(let r=this.parts.length-1;r>=0;r--){let n=this.parts[r];if(n instanceof v&&n.type==t)return r}return null}takeContent(t){let r=this.resolveMarkers(t);return this.parts.length=t,r}skipSpace(t){return Q(this.text,t-this.offset)+this.offset}elt(t,r,n,s){return typeof t=="string"?k(this.parser.getNodeType(t),r,n,s):new Ze(t,r)}}function de(e,t){if(!t.length)return e;if(!e.length)return t;let r=e.slice(),n=0;for(let s of t){for(;n<r.length&&r[n].to<s.to;)n++;if(n<r.length&&r[n].from<s.from){let a=r[n];a instanceof N&&(r[n]=new N(a.type,a.from,a.to,de(a.children,[s])))}else r.splice(n++,0,s)}return r}const or=[f.CodeBlock,f.ListItem,f.OrderedList,f.BulletList];class ur{constructor(t,r){this.fragments=t,this.input=r,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,t.length&&(this.fragment=t[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(t,r){for(;this.fragment&&this.fragment.to<=t;)this.nextFragment();if(!this.fragment||this.fragment.from>(t?t-1:0))return!1;if(this.fragmentEnd<0){let a=this.fragment.to;for(;a>0&&this.input.read(a-1,a)!=`
`;)a--;this.fragmentEnd=a?a-1:0}let n=this.cursor;n||(n=this.cursor=this.fragment.tree.cursor(),n.firstChild());let s=t+this.fragment.offset;for(;n.to<=s;)if(!n.parent())return!1;for(;;){if(n.from>=s)return this.fragment.from<=r;if(!n.childAfter(s))return!1}}matches(t){let r=this.cursor.tree;return r&&r.prop(P.uY.contextHash)==t}takeNodes(t){let r=this.cursor,n=this.fragment.offset,s=this.fragmentEnd-(this.fragment.openEnd?1:0),a=t.absoluteLineStart,l=a,i=t.block.children.length,o=l,d=i;for(;;){if(r.to-n>s){if(r.type.isAnonymous&&r.firstChild())continue;break}let u=Je(r.from-n,t.ranges);if(r.to-n<=t.ranges[t.rangeI].to)t.addNode(r.tree,u);else{let p=new P.PH(t.parser.nodeSet.types[f.Paragraph],[],[],0,t.block.hashProp);t.reusePlaceholders.set(p,r.tree),t.addNode(p,u)}if(r.type.is("Block")&&(or.indexOf(r.type.id)<0?(l=r.to-n,i=t.block.children.length):(l=o,i=d,o=r.to-n,d=t.block.children.length)),!r.nextSibling())break}for(;t.block.children.length>i;)t.block.children.pop(),t.block.positions.pop();return l-a}}function Je(e,t){let r=e;for(let n=1;n<t.length;n++){let s=t[n-1].to,a=t[n].from;s<e&&(r-=a-s)}return r}const dr=(0,g.pn)({"Blockquote/...":g._A.quote,HorizontalRule:g._A.contentSeparator,"ATXHeading1/... SetextHeading1/...":g._A.heading1,"ATXHeading2/... SetextHeading2/...":g._A.heading2,"ATXHeading3/...":g._A.heading3,"ATXHeading4/...":g._A.heading4,"ATXHeading5/...":g._A.heading5,"ATXHeading6/...":g._A.heading6,"Comment CommentBlock":g._A.comment,Escape:g._A.escape,Entity:g._A.character,"Emphasis/...":g._A.emphasis,"StrongEmphasis/...":g._A.strong,"Link/... Image/...":g._A.link,"OrderedList/... BulletList/...":g._A.list,"BlockQuote/...":g._A.quote,"InlineCode CodeText":g._A.monospace,"URL Autolink":g._A.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":g._A.processingInstruction,"CodeInfo LinkLabel":g._A.labelName,LinkTitle:g._A.string,Paragraph:g._A.content}),fr=new G(new P.fI(ze).extend(dr),Object.keys(W).map(e=>W[e]),Object.keys(W).map(e=>Ne[e]),Object.keys(W),nr,_e,Object.keys(ue).map(e=>ue[e]),Object.keys(ue),[]);function hr(e,t,r){let n=[];for(let s=e.firstChild,a=t;;s=s.nextSibling){let l=s?s.from:r;if(l>a&&n.push({from:a,to:l}),!s)break;a=s.to}return n}function pr(e){let{codeParser:t,htmlParser:r}=e;return{wrap:(0,P.$g)((s,a)=>{let l=s.type.id;if(t&&(l==f.CodeBlock||l==f.FencedCode)){let i="";if(l==f.FencedCode){let d=s.node.getChild(f.CodeInfo);d&&(i=a.read(d.from,d.to))}let o=t(i);if(o)return{parser:o,overlay:d=>d.type.id==f.CodeText}}else if(r&&(l==f.HTMLBlock||l==f.HTMLTag||l==f.CommentBlock))return{parser:r,overlay:hr(s.node,s.from,s.to)};return null})}}const cr={resolve:"Strikethrough",mark:"StrikethroughMark"},mr={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":g._A.strikethrough}},{name:"StrikethroughMark",style:g._A.processingInstruction}],parseInline:[{name:"Strikethrough",parse(e,t,r){if(t!=126||e.char(r+1)!=126||e.char(r+2)==126)return-1;let n=e.slice(r-1,r),s=e.slice(r+2,r+3),a=/\s|^$/.test(n),l=/\s|^$/.test(s),i=H.test(n),o=H.test(s);return e.addDelimiter(cr,r,r+2,!l&&(!o||a||i),!a&&(!i||l||o))},after:"Emphasis"}]};function z(e,t,r=0,n,s=0){let a=0,l=!0,i=-1,o=-1,d=!1,u=()=>{n.push(e.elt("TableCell",s+i,s+o,e.parser.parseInline(t.slice(i,o),s+i)))};for(let p=r;p<t.length;p++){let h=t.charCodeAt(p);h==124&&!d?((!l||i>-1)&&a++,l=!1,n&&(i>-1&&u(),n.push(e.elt("TableDelimiter",p+s,p+s+1))),i=o=-1):(d||h!=32&&h!=9)&&(i<0&&(i=p),o=p+1),d=!d&&h==92}return i>-1&&(a++,n&&u()),a}function et(e,t){for(let r=t;r<e.length;r++){let n=e.charCodeAt(r);if(n==124)return!0;n==92&&r++}return!1}const tt=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class rt{constructor(){this.rows=null}nextLine(t,r,n){if(this.rows==null){this.rows=!1;let s;if((r.next==45||r.next==58||r.next==124)&&tt.test(s=r.text.slice(r.pos))){let a=[];z(t,n.content,0,a,n.start)==z(t,s,r.pos)&&(this.rows=[t.elt("TableHeader",n.start,n.start+n.content.length,a),t.elt("TableDelimiter",t.lineStart+r.pos,t.lineStart+r.text.length)])}}else if(this.rows){let s=[];z(t,r.text,r.pos,s,t.lineStart),this.rows.push(t.elt("TableRow",t.lineStart+r.pos,t.lineStart+r.text.length,s))}return!1}finish(t,r){return this.rows?(t.addLeafElement(r,t.elt("Table",r.start,r.start+r.content.length,this.rows)),!0):!1}}const gr={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":g._A.heading}},"TableRow",{name:"TableCell",style:g._A.content},{name:"TableDelimiter",style:g._A.processingInstruction}],parseBlock:[{name:"Table",leaf(e,t){return et(t.content,0)?new rt:null},endLeaf(e,t,r){if(r.parsers.some(s=>s instanceof rt)||!et(t.text,t.basePos))return!1;let n=e.peekLine();return tt.test(n)&&z(e,t.text,t.basePos)==z(e,n,t.basePos)},before:"SetextHeading"}]};class Or{nextLine(){return!1}finish(t,r){return t.addLeafElement(r,t.elt("Task",r.start,r.start+r.content.length,[t.elt("TaskMarker",r.start,r.start+3),...t.parser.parseInline(r.content.slice(3),r.start+3)])),!0}}const Sr={defineNodes:[{name:"Task",block:!0,style:g._A.list},{name:"TaskMarker",style:g._A.atom}],parseBlock:[{name:"TaskList",leaf(e,t){return/^\[[ xX]\][ \t]/.test(t.content)&&e.parentType().name=="ListItem"?new Or:null},after:"SetextHeading"}]},nt=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,st=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,kr=/[\w-]+\.[\w-]+($|\/)/,at=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,lt=/\/[a-zA-Z\d@.]+/gy;function it(e,t,r,n){let s=0;for(let a=t;a<r;a++)e[a]==n&&s++;return s}function br(e,t){st.lastIndex=t;let r=st.exec(e);if(!r||kr.exec(r[0])[0].indexOf("_")>-1)return-1;let n=t+r[0].length;for(;;){let s=e[n-1],a;if(/[?!.,:*_~]/.test(s)||s==")"&&it(e,t,n,")")>it(e,t,n,"("))n--;else if(s==";"&&(a=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(e.slice(t,n))))n=t+a.index;else break}return n}function ot(e,t){at.lastIndex=t;let r=at.exec(e);if(!r)return-1;let n=r[0][r[0].length-1];return n=="_"||n=="-"?-1:t+r[0].length-(n=="."?1:0)}const wr=[gr,Sr,mr,{parseInline:[{name:"Autolink",parse(e,t,r){let n=r-e.offset;if(n&&/\w/.test(e.text[n-1]))return-1;nt.lastIndex=n;let s=nt.exec(e.text),a=-1;if(!s)return-1;if(s[1]||s[2]){if(a=br(e.text,n+s[0].length),a>-1&&e.hasOpenLink){let l=/([^\[\]]|\[[^\]]*\])*/.exec(e.text.slice(n,a));a=n+l[0].length}}else s[3]?a=ot(e.text,n):(a=ot(e.text,n+s[0].length),a>-1&&s[0]=="xmpp:"&&(lt.lastIndex=a,s=lt.exec(e.text),s&&(a=s.index+s[0].length)));return a<0?-1:(e.addElement(e.elt("URL",r,a+e.offset)),a+e.offset)}}]}];function ut(e,t,r){return(n,s,a)=>{if(s!=e||n.char(a+1)==e)return-1;let l=[n.elt(r,a,a+1)];for(let i=a+1;i<n.end;i++){let o=n.char(i);if(o==e)return n.addElement(n.elt(t,a,i+1,l.concat(n.elt(r,i,i+1))));if(o==92&&l.push(n.elt("Escape",i,i+++2)),L(o))break}return-1}}const xr={defineNodes:[{name:"Superscript",style:g._A.special(g._A.content)},{name:"SuperscriptMark",style:g._A.processingInstruction}],parseInline:[{name:"Superscript",parse:ut(94,"Superscript","SuperscriptMark")}]},Pr={defineNodes:[{name:"Subscript",style:g._A.special(g._A.content)},{name:"SubscriptMark",style:g._A.processingInstruction}],parseInline:[{name:"Subscript",parse:ut(126,"Subscript","SubscriptMark")}]},Ar={defineNodes:[{name:"Emoji",style:g._A.character}],parseInline:[{name:"Emoji",parse(e,t,r){let n;return t!=58||!(n=/^[a-zA-Z_0-9]+:/.exec(e.slice(r+1,e.end)))?-1:e.addElement(e.elt("Emoji",r,r+1+n[0].length))}}]};var $=y(32620);const Cr=55,Tr=1,Lr=56,vr=2,yr=57,Vr=3,dt=4,_r=5,fe=6,ft=7,ht=8,pt=9,ct=10,Er=11,Xr=12,Br=13,he=58,Mr=14,$r=15,mt=59,gt=21,Ir=23,Ot=24,qr=25,pe=27,St=28,Rr=29,Qr=32,Yr=35,Nr=37,Hr=38,zr=0,Dr=1,Zr={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},jr={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},kt={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Ur(e){return e==45||e==46||e==58||e>=65&&e<=90||e==95||e>=97&&e<=122||e>=161}let bt=null,wt=null,xt=0;function ce(e,t){let r=e.pos+t;if(xt==r&&wt==e)return bt;let n=e.peek(t),s="";for(;Ur(n);)s+=String.fromCharCode(n),n=e.peek(++t);return wt=e,xt=r,bt=s?s.toLowerCase():n==Wr||n==Gr?void 0:null}const Pt=60,K=62,me=47,Wr=63,Gr=33,Fr=45;function At(e,t){this.name=e,this.parent=t}const Kr=[fe,ct,ft,ht,pt],Jr=new $.Aj({start:null,shift(e,t,r,n){return Kr.indexOf(t)>-1?new At(ce(n,1)||"",e):e},reduce(e,t){return t==gt&&e?e.parent:e},reuse(e,t,r,n){let s=t.type.id;return s==fe||s==Nr?new At(ce(n,1)||"",e):e},strict:!1}),en=new $.Lu((e,t)=>{if(e.next!=Pt){e.next<0&&t.context&&e.acceptToken(he);return}e.advance();let r=e.next==me;r&&e.advance();let n=ce(e,0);if(n===void 0)return;if(!n)return e.acceptToken(r?$r:Mr);let s=t.context?t.context.name:null;if(r){if(n==s)return e.acceptToken(Er);if(s&&jr[s])return e.acceptToken(he,-2);if(t.dialectEnabled(zr))return e.acceptToken(Xr);for(let a=t.context;a;a=a.parent)if(a.name==n)return;e.acceptToken(Br)}else{if(n=="script")return e.acceptToken(ft);if(n=="style")return e.acceptToken(ht);if(n=="textarea")return e.acceptToken(pt);if(Zr.hasOwnProperty(n))return e.acceptToken(ct);s&&kt[s]&&kt[s][n]?e.acceptToken(he,-1):e.acceptToken(fe)}},{contextual:!0}),tn=new $.Lu(e=>{for(let t=0,r=0;;r++){if(e.next<0){r&&e.acceptToken(mt);break}if(e.next==Fr)t++;else if(e.next==K&&t>=2){r>=3&&e.acceptToken(mt,-2);break}else t=0;e.advance()}});function rn(e){for(;e;e=e.parent)if(e.name=="svg"||e.name=="math")return!0;return!1}const nn=new $.Lu((e,t)=>{if(e.next==me&&e.peek(1)==K){let r=t.dialectEnabled(Dr)||rn(t.context);e.acceptToken(r?_r:dt,2)}else e.next==K&&e.acceptToken(dt,1)});function ge(e,t,r){let n=2+e.length;return new $.Lu(s=>{for(let a=0,l=0,i=0;;i++){if(s.next<0){i&&s.acceptToken(t);break}if(a==0&&s.next==Pt||a==1&&s.next==me||a>=2&&a<n&&s.next==e.charCodeAt(a-2))a++,l++;else if(a==n&&s.next==K){i>l?s.acceptToken(t,-l):s.acceptToken(r,-(l-2));break}else if((s.next==10||s.next==13)&&i){s.acceptToken(t,1);break}else a=l=0;s.advance()}})}const sn=ge("script",Cr,Tr),an=ge("style",Lr,vr),ln=ge("textarea",yr,Vr),on=(0,g.pn)({"Text RawText IncompleteTag IncompleteCloseTag":g._A.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":g._A.angleBracket,TagName:g._A.tagName,"MismatchedCloseTag/TagName":[g._A.tagName,g._A.invalid],AttributeName:g._A.attributeName,"AttributeValue UnquotedAttributeValue":g._A.attributeValue,Is:g._A.definitionOperator,"EntityReference CharacterReference":g._A.character,Comment:g._A.blockComment,ProcessingInst:g._A.processingInstruction,DoctypeDecl:g._A.documentMeta}),un=$.U1.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"\u26A0 StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:Jr,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[on],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[sn,an,ln,nn,en,tn,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function Ct(e,t){let r=Object.create(null);for(let n of e.getChildren(Ot)){let s=n.getChild(qr),a=n.getChild(pe)||n.getChild(St);s&&(r[t.read(s.from,s.to)]=a?a.type.id==pe?t.read(a.from+1,a.to-1):t.read(a.from,a.to):"")}return r}function Tt(e,t){let r=e.getChild(Ir);return r?t.read(r.from,r.to):" "}function Oe(e,t,r){let n;for(let s of r)if(!s.attrs||s.attrs(n||(n=Ct(e.node.parent.firstChild,t))))return{parser:s.parser};return null}function Lt(e=[],t=[]){let r=[],n=[],s=[],a=[];for(let i of e)(i.tag=="script"?r:i.tag=="style"?n:i.tag=="textarea"?s:a).push(i);let l=t.length?Object.create(null):null;for(let i of t)(l[i.name]||(l[i.name]=[])).push(i);return(0,P.$g)((i,o)=>{let d=i.type.id;if(d==Rr)return Oe(i,o,r);if(d==Qr)return Oe(i,o,n);if(d==Yr)return Oe(i,o,s);if(d==gt&&a.length){let u=i.node,p=u.firstChild,h=p&&Tt(p,o),c;if(h){for(let O of a)if(O.tag==h&&(!O.attrs||O.attrs(c||(c=Ct(p,o))))){let S=u.lastChild,b=S.type.id==Hr?S.from:u.to;if(b>p.to)return{parser:O.parser,overlay:[{from:p.to,to:b}]}}}}if(l&&d==Ot){let u=i.node,p;if(p=u.firstChild){let h=l[o.read(p.from,p.to)];if(h)for(let c of h){if(c.tagName&&c.tagName!=Tt(u.parent,o))continue;let O=u.lastChild;if(O.type.id==pe){let S=O.from+1,b=O.lastChild,A=O.to-(b&&b.isError?0:1);if(A>S)return{parser:c.parser,overlay:[{from:S,to:A}]}}else if(O.type.id==St)return{parser:c.parser,overlay:[{from:O.from,to:O.to}]}}}}return null})}var Se=y(10316),E=y(37049);const D=["_blank","_self","_top","_parent"],ke=["ascii","utf-8","utf-16","latin1","latin1"],be=["get","post","put","delete"],we=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],T=["true","false"],m={},dn={a:{attrs:{href:null,ping:null,type:null,media:null,target:D,hreflang:null}},abbr:m,address:m,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:m,aside:m,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:m,base:{attrs:{href:null,target:D}},bdi:m,bdo:m,blockquote:{attrs:{cite:null}},body:m,br:m,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:we,formmethod:be,formnovalidate:["novalidate"],formtarget:D,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:m,center:m,cite:m,code:m,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:m,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:m,div:m,dl:m,dt:m,em:m,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:m,figure:m,footer:m,form:{attrs:{action:null,name:null,"accept-charset":ke,autocomplete:["on","off"],enctype:we,method:be,novalidate:["novalidate"],target:D}},h1:m,h2:m,h3:m,h4:m,h5:m,h6:m,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:m,hgroup:m,hr:m,html:{attrs:{manifest:null}},i:m,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:we,formmethod:be,formnovalidate:["novalidate"],formtarget:D,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:m,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:m,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:m,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:ke,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:m,noscript:m,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:m,param:{attrs:{name:null,value:null}},pre:m,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:m,rt:m,ruby:m,samp:m,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:ke}},section:m,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:m,source:{attrs:{src:null,type:null,media:null}},span:m,strong:m,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:m,summary:m,sup:m,table:m,tbody:m,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:m,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:m,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:m,time:{attrs:{datetime:null}},title:m,tr:m,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:m,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:m},vt={accesskey:null,class:null,contenteditable:T,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:T,autocorrect:T,autocapitalize:T,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":T,"aria-autocomplete":["inline","list","both","none"],"aria-busy":T,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":T,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":T,"aria-hidden":T,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":T,"aria-multiselectable":T,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":T,"aria-relevant":null,"aria-required":T,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},yt="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(e=>"on"+e);for(let e of yt)vt[e]=null;class Z{constructor(t,r){this.tags={...dn,...t},this.globalAttrs={...vt,...r},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Z.default=new Z;function I(e,t,r=e.length){if(!t)return"";let n=t.firstChild,s=n&&n.getChild("TagName");return s?e.sliceString(s.from,Math.min(s.to,r)):""}function q(e,t=!1){for(;e;e=e.parent)if(e.name=="Element")if(t)t=!1;else return e;return null}function Vt(e,t,r){let n=r.tags[I(e,q(t))];return n?.children||r.allTags}function xe(e,t){let r=[];for(let n=q(t);n&&!n.type.isTop;n=q(n.parent)){let s=I(e,n);if(s&&n.lastChild.name=="CloseTag")break;s&&r.indexOf(s)<0&&(t.name=="EndTag"||t.from>=n.firstChild.to)&&r.push(s)}return r}const _t=/^[:\-\.\w\u00b7-\uffff]*$/;function Et(e,t,r,n,s){let a=/\s*>/.test(e.sliceDoc(s,s+5))?"":">",l=q(r,r.name=="StartTag"||r.name=="TagName");return{from:n,to:s,options:Vt(e.doc,l,t).map(i=>({label:i,type:"type"})).concat(xe(e.doc,r).map((i,o)=>({label:"/"+i,apply:"/"+i+a,type:"type",boost:99-o}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Xt(e,t,r,n){let s=/\s*>/.test(e.sliceDoc(n,n+5))?"":">";return{from:r,to:n,options:xe(e.doc,t).map((a,l)=>({label:a,apply:a+s,type:"type",boost:99-l})),validFor:_t}}function fn(e,t,r,n){let s=[],a=0;for(let l of Vt(e.doc,r,t))s.push({label:"<"+l,type:"type"});for(let l of xe(e.doc,r))s.push({label:"</"+l+">",type:"type",boost:99-a++});return{from:n,to:n,options:s,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function hn(e,t,r,n,s){let a=q(r),l=a?t.tags[I(e.doc,a)]:null,i=l&&l.attrs?Object.keys(l.attrs):[],o=l&&l.globalAttrs===!1?i:i.length?i.concat(t.globalAttrNames):t.globalAttrNames;return{from:n,to:s,options:o.map(d=>({label:d,type:"property"})),validFor:_t}}function pn(e,t,r,n,s){var a;let l=(a=r.parent)===null||a===void 0?void 0:a.getChild("AttributeName"),i=[],o;if(l){let d=e.sliceDoc(l.from,l.to),u=t.globalAttrs[d];if(!u){let p=q(r),h=p?t.tags[I(e.doc,p)]:null;u=h?.attrs&&h.attrs[d]}if(u){let p=e.sliceDoc(n,s).toLowerCase(),h='"',c='"';/^['"]/.test(p)?(o=p[0]=='"'?/^[^"]*$/:/^[^']*$/,h="",c=e.sliceDoc(s,s+1)==p[0]?"":p[0],p=p.slice(1),n++):o=/^[^\s<>='"]*$/;for(let O of u)i.push({label:O,apply:h+O+c,type:"constant"})}}return{from:n,to:s,options:i,validFor:o}}function Bt(e,t){let{state:r,pos:n}=t,s=(0,x.syntaxTree)(r).resolveInner(n,-1),a=s.resolve(n);for(let l=n,i;a==s&&(i=s.childBefore(l));){let o=i.lastChild;if(!o||!o.type.isError||o.from<o.to)break;a=s=i,l=o.from}return s.name=="TagName"?s.parent&&/CloseTag$/.test(s.parent.name)?Xt(r,s,s.from,n):Et(r,e,s,s.from,n):s.name=="StartTag"||s.name=="IncompleteTag"?Et(r,e,s,n,n):s.name=="StartCloseTag"||s.name=="IncompleteCloseTag"?Xt(r,s,n,n):s.name=="OpenTag"||s.name=="SelfClosingTag"||s.name=="AttributeName"?hn(r,e,s,s.name=="AttributeName"?s.from:n,n):s.name=="Is"||s.name=="AttributeValue"||s.name=="UnquotedAttributeValue"?pn(r,e,s,s.name=="Is"?n:s.from,n):t.explicit&&(a.name=="Element"||a.name=="Text"||a.name=="Document")?fn(r,e,s,n):null}function cn(e){return Bt(Z.default,e)}function mn(e){let{extraTags:t,extraGlobalAttributes:r}=e,n=r||t?new Z(t,r):Z.default;return s=>Bt(n,s)}const gn=E.javascriptLanguage.parser.configure({top:"SingleExpression"}),Mt=[{tag:"script",attrs:e=>e.type=="text/typescript"||e.lang=="ts",parser:E.typescriptLanguage.parser},{tag:"script",attrs:e=>e.type=="text/babel"||e.type=="text/jsx",parser:E.jsxLanguage.parser},{tag:"script",attrs:e=>e.type=="text/typescript-jsx",parser:E.tsxLanguage.parser},{tag:"script",attrs(e){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(e.type)},parser:gn},{tag:"script",attrs(e){return!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type)},parser:E.javascriptLanguage.parser},{tag:"style",attrs(e){return(!e.lang||e.lang=="css")&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type))},parser:Se.cssLanguage.parser}],$t=[{name:"style",parser:Se.cssLanguage.parser.configure({top:"Styles"})}].concat(yt.map(e=>({name:e,parser:E.javascriptLanguage.parser}))),It=x.LRLanguage.define({name:"html",parser:un.configure({props:[x.indentNodeProp.add({Element(e){let t=/^(\s*)(<\/)?/.exec(e.textAfter);return e.node.to<=e.pos+t[0].length?e.continue():e.lineIndent(e.node.from)+(t[2]?0:e.unit)},"OpenTag CloseTag SelfClosingTag"(e){return e.column(e.node.from)+e.unit},Document(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length<e.node.to)return e.continue();let t=null,r;for(let n=e.node;;){let s=n.lastChild;if(!s||s.name!="Element"||s.to!=n.to)break;t=n=s}return t&&!((r=t.lastChild)&&(r.name=="CloseTag"||r.name=="SelfClosingTag"))?e.lineIndent(t.from)+e.unit:null}}),x.foldNodeProp.add({Element(e){let t=e.firstChild,r=e.lastChild;return!t||t.name!="OpenTag"?null:{from:t.to,to:r.name=="CloseTag"?r.from:e.to}}}),x.bracketMatchingHandle.add({"OpenTag CloseTag":e=>e.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),J=It.configure({wrap:Lt(Mt,$t)});function On(e={}){let t="",r;e.matchClosingTags===!1&&(t="noMatch"),e.selfClosingTags===!0&&(t=(t?t+" ":"")+"selfClosing"),(e.nestedLanguages&&e.nestedLanguages.length||e.nestedAttributes&&e.nestedAttributes.length)&&(r=Lt((e.nestedLanguages||[]).concat(Mt),(e.nestedAttributes||[]).concat($t)));let n=r?It.configure({wrap:r,dialect:t}):t?J.configure({dialect:t}):J;return new x.LanguageSupport(n,[J.data.of({autocomplete:mn(e)}),e.autoCloseTags!==!1?Sn:[],(0,E.javascript)().support,(0,Se.css)().support])}const qt=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),Sn=ee.EditorView.inputHandler.of((e,t,r,n,s)=>{if(e.composing||e.state.readOnly||t!=r||n!=">"&&n!="/"||!J.isActiveAt(e.state,t,-1))return!1;let a=s(),{state:l}=a,i=l.changeByRange(o=>{var d,u,p;let h=l.doc.sliceString(o.from-1,o.to)==n,{head:c}=o,O=(0,x.syntaxTree)(l).resolveInner(c,-1),S;if(h&&n==">"&&O.name=="EndTag"){let b=O.parent;if(((u=(d=b.parent)===null||d===void 0?void 0:d.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(S=I(l.doc,b.parent,c))&&!qt.has(S)){let A=c+(l.doc.sliceString(c,c+1)===">"?1:0),w=`</${S}>`;return{range:o,changes:{from:c,to:A,insert:w}}}}else if(h&&n=="/"&&O.name=="IncompleteCloseTag"){let b=O.parent;if(O.from==c-2&&((p=b.lastChild)===null||p===void 0?void 0:p.name)!="CloseTag"&&(S=I(l.doc,b,c))&&!qt.has(S)){let A=c+(l.doc.sliceString(c,c+1)===">"?1:0),w=`${S}>`;return{range:C.EditorSelection.cursor(c+w.length,-1),changes:{from:c,to:A,insert:w}}}}return{range:o}});return i.changes.empty?!1:(e.dispatch([a,l.update(i,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Rt=(0,x.defineLanguageFacet)({commentTokens:{block:{open:"<!--",close:"-->"}}}),Qt=new P.uY,Yt=fr.configure({props:[x.foldNodeProp.add(e=>!e.is("Block")||e.is("Document")||Pe(e)!=null||kn(e)?void 0:(t,r)=>({from:r.doc.lineAt(t.from).to,to:t.to})),Qt.add(Pe),x.indentNodeProp.add({Document:()=>null}),x.languageDataProp.add({Document:Rt})]});function Pe(e){let t=/^(?:ATX|Setext)Heading(\d)$/.exec(e.name);return t?+t[1]:void 0}function kn(e){return e.name=="OrderedList"||e.name=="BulletList"}function bn(e,t){let r=e;for(;;){let n=r.nextSibling,s;if(!n||(s=Pe(n.type))!=null&&s<=t)break;r=n}return r.to}const wn=x.foldService.of((e,t,r)=>{for(let n=(0,x.syntaxTree)(e).resolveInner(r,-1);n&&!(n.from<t);n=n.parent){let s=n.type.prop(Qt);if(s==null)continue;let a=bn(n,s);if(a>r)return{from:r,to:a}}return null});function Ae(e){return new x.Language(Rt,e,[],"markdown")}const Nt=Ae(Yt),j=Ae(Yt.configure([wr,Pr,xr,Ar,{props:[x.foldNodeProp.add({Table:(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})})]}]));function xn(e,t){return r=>{if(r&&e){let n=null;if(r=/\S*/.exec(r)[0],typeof e=="function"?n=e(r):n=x.LanguageDescription.matchLanguageName(e,r,!0),n instanceof x.LanguageDescription)return n.support?n.support.language.parser:x.ParseContext.getSkippingParser(n.load());if(n)return n.parser}return t?t.parser:null}}class Ce{constructor(t,r,n,s,a,l,i){this.node=t,this.from=r,this.to=n,this.spaceBefore=s,this.spaceAfter=a,this.type=l,this.item=i}blank(t,r=!0){let n=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(t!=null){for(;n.length<t;)n+=" ";return n}else{for(let s=this.to-this.from-n.length-this.spaceAfter.length;s>0;s--)n+=" ";return n+(r?this.spaceAfter:"")}}marker(t,r){let n=this.node.name=="OrderedList"?String(+zt(this.item,t)[2]+r):"";return this.spaceBefore+n+this.type+this.spaceAfter}}function Ht(e,t){let r=[],n=[];for(let s=e;s;s=s.parent){if(s.name=="FencedCode")return n;(s.name=="ListItem"||s.name=="Blockquote")&&r.push(s)}for(let s=r.length-1;s>=0;s--){let a=r[s],l,i=t.lineAt(a.from),o=a.from-i.from;if(a.name=="Blockquote"&&(l=/^ *>( ?)/.exec(i.text.slice(o))))n.push(new Ce(a,o,o+l[0].length,"",l[1],">",null));else if(a.name=="ListItem"&&a.parent.name=="OrderedList"&&(l=/^( *)\d+([.)])( *)/.exec(i.text.slice(o)))){let d=l[3],u=l[0].length;d.length>=4&&(d=d.slice(0,d.length-4),u-=4),n.push(new Ce(a.parent,o,o+u,l[1],d,l[2],a))}else if(a.name=="ListItem"&&a.parent.name=="BulletList"&&(l=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(i.text.slice(o)))){let d=l[4],u=l[0].length;d.length>4&&(d=d.slice(0,d.length-4),u-=4);let p=l[2];l[3]&&(p+=l[3].replace(/[xX]/," ")),n.push(new Ce(a.parent,o,o+u,l[1],d,p,a))}}return n}function zt(e,t){return/^(\s*)(\d+)(?=[.)])/.exec(t.sliceString(e.from,e.from+10))}function Te(e,t,r,n=0){for(let s=-1,a=e;;){if(a.name=="ListItem"){let i=zt(a,t),o=+i[2];if(s>=0){if(o!=s+1)return;r.push({from:a.from+i[1].length,to:a.from+i[0].length,insert:String(s+2+n)})}s=o}let l=a.nextSibling;if(!l)break;a=l}}function Le(e,t){let r=/^[ \t]*/.exec(e)[0].length;if(!r||t.facet(x.indentUnit)!="	")return e;let n=(0,C.countColumn)(e,4,r),s="";for(let a=n;a>0;)a>=4?(s+="	",a-=4):(s+=" ",a--);return s+e.slice(r)}const Dt=({state:e,dispatch:t})=>{let r=(0,x.syntaxTree)(e),{doc:n}=e,s=null,a=e.changeByRange(l=>{if(!l.empty||!j.isActiveAt(e,l.from,-1)&&!j.isActiveAt(e,l.from,1))return s={range:l};let i=l.from,o=n.lineAt(i),d=Ht(r.resolveInner(i,-1),n);for(;d.length&&d[d.length-1].from>i-o.from;)d.pop();if(!d.length)return s={range:l};let u=d[d.length-1];if(u.to-u.spaceAfter.length>i-o.from)return s={range:l};let p=i>=u.to-u.spaceAfter.length&&!/\S/.test(o.text.slice(u.to));if(u.item&&p){let b=u.node.firstChild,A=u.node.getChild("ListItem","ListItem");if(b.to>=i||A&&A.to<i||o.from>0&&!/[^\s>]/.test(n.lineAt(o.from-1).text)){let w=d.length>1?d[d.length-2]:null,V,R="";w&&w.item?(V=o.from+w.from,R=w.marker(n,1)):V=o.from+(w?w.to:0);let X=[{from:V,to:i,insert:R}];return u.node.name=="OrderedList"&&Te(u.item,n,X,-2),w&&w.node.name=="OrderedList"&&Te(w.item,n,X),{range:C.EditorSelection.cursor(V+R.length),changes:X}}else{let w=jt(d,e,o);return{range:C.EditorSelection.cursor(i+w.length+1),changes:{from:o.from,insert:w+e.lineBreak}}}}if(u.node.name=="Blockquote"&&p&&o.from){let b=n.lineAt(o.from-1),A=/>\s*$/.exec(b.text);if(A&&A.index==u.from){let w=e.changes([{from:b.from+A.index,to:b.to},{from:o.from+u.from,to:o.to}]);return{range:l.map(w),changes:w}}}let h=[];u.node.name=="OrderedList"&&Te(u.item,n,h);let c=u.item&&u.item.from<o.from,O="";if(!c||/^[\s\d.)\-+*>]*/.exec(o.text)[0].length>=u.to)for(let b=0,A=d.length-1;b<=A;b++)O+=b==A&&!c?d[b].marker(n,1):d[b].blank(b<A?(0,C.countColumn)(o.text,4,d[b+1].from)-O.length:null);let S=i;for(;S>o.from&&/\s/.test(o.text.charAt(S-o.from-1));)S--;return O=Le(O,e),Pn(u.node,e.doc)&&(O=jt(d,e,o)+e.lineBreak+O),h.push({from:S,to:i,insert:e.lineBreak+O}),{range:C.EditorSelection.cursor(S+O.length+1),changes:h}});return s?!1:(t(e.update(a,{scrollIntoView:!0,userEvent:"input"})),!0)};function Zt(e){return e.name=="QuoteMark"||e.name=="ListMark"}function Pn(e,t){if(e.name!="OrderedList"&&e.name!="BulletList")return!1;let r=e.firstChild,n=e.getChild("ListItem","ListItem");if(!n)return!1;let s=t.lineAt(r.to),a=t.lineAt(n.from),l=/^[\s>]*$/.test(s.text);return s.number+(l?0:1)<a.number}function jt(e,t,r){let n="";for(let s=0,a=e.length-2;s<=a;s++)n+=e[s].blank(s<a?(0,C.countColumn)(r.text,4,e[s+1].from)-n.length:null,s<a);return Le(n,t)}function An(e,t){let r=e.resolveInner(t,-1),n=t;Zt(r)&&(n=r.from,r=r.parent);for(let s;s=r.childBefore(n);)if(Zt(s))n=s.from;else if(s.name=="OrderedList"||s.name=="BulletList")r=s.lastChild,n=r.to;else break;return r}const Ut=({state:e,dispatch:t})=>{let r=(0,x.syntaxTree)(e),n=null,s=e.changeByRange(a=>{let l=a.from,{doc:i}=e;if(a.empty&&j.isActiveAt(e,a.from)){let o=i.lineAt(l),d=Ht(An(r,l),i);if(d.length){let u=d[d.length-1],p=u.to-u.spaceAfter.length+(u.spaceAfter?1:0);if(l-o.from>p&&!/\S/.test(o.text.slice(p,l-o.from)))return{range:C.EditorSelection.cursor(o.from+p),changes:{from:o.from+p,to:l}};if(l-o.from==p&&(!u.item||o.from<=u.item.from||!/\S/.test(o.text.slice(0,u.to)))){let h=o.from+u.from;if(u.item&&u.node.from<u.item.from&&/\S/.test(o.text.slice(u.from,u.to))){let c=u.blank((0,C.countColumn)(o.text,4,u.to)-(0,C.countColumn)(o.text,4,u.from));return h==o.from&&(c=Le(c,e)),{range:C.EditorSelection.cursor(h+c.length),changes:{from:h,to:o.from+u.to,insert:c}}}if(h<l)return{range:C.EditorSelection.cursor(h),changes:{from:h,to:l}}}}}return n={range:a}});return n?!1:(t(e.update(s,{scrollIntoView:!0,userEvent:"delete"})),!0)},Wt=[{key:"Enter",run:Dt},{key:"Backspace",run:Ut}],Gt=On({matchClosingTags:!1});function Cn(e={}){let{codeLanguages:t,defaultCodeLanguage:r,addKeymap:n=!0,base:{parser:s}=Nt,completeHTMLTags:a=!0,pasteURLAsLink:l=!0,htmlTagLanguage:i=Gt}=e;if(!(s instanceof G))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let o=e.extensions?[e.extensions]:[],d=[i.support,wn],u;l&&d.push(Ft),r instanceof x.LanguageSupport?(d.push(r.support),u=r.language):r&&(u=r);let p=t||u?xn(t,u):void 0;o.push(pr({codeParser:p,htmlParser:i.language.parser})),n&&d.push(C.Prec.high(ee.keymap.of(Wt)));let h=Ae(s.configure(o));return a&&d.push(h.data.of({autocomplete:Tn})),new x.LanguageSupport(h,d)}function Tn(e){let{state:t,pos:r}=e,n=/<[:\-\.\w\u00b7-\uffff]*$/.exec(t.sliceDoc(r-25,r));if(!n)return null;let s=(0,x.syntaxTree)(t).resolveInner(r,-1);for(;s&&!s.type.isTop;){if(s.name=="CodeBlock"||s.name=="FencedCode"||s.name=="ProcessingInstructionBlock"||s.name=="CommentBlock"||s.name=="Link"||s.name=="Image")return null;s=s.parent}return{from:r-n[0].length,to:r,options:Ln(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let ve=null;function Ln(){if(ve)return ve;let e=cn(new Kt.CompletionContext(C.EditorState.create({extensions:Gt}),0,!0));return ve=e?e.options:[]}const vn=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,Ft=ee.EditorView.domEventHandlers({paste:(e,t)=>{var r;let{main:n}=t.state.selection;if(n.empty)return!1;let s=(r=e.clipboardData)===null||r===void 0?void 0:r.getData("text/plain");if(!s||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(s)||(/^www\./.test(s)&&(s="https://"+s),!j.isActiveAt(t.state,n.from,1)))return!1;let a=(0,x.syntaxTree)(t.state),l=!1;return a.iterate({from:n.from,to:n.to,enter:i=>{(i.from>n.from||vn.test(i.name))&&(l=!0)},leave:i=>{i.to<n.to&&(l=!0)}}),l?!1:(t.dispatch({changes:[{from:n.from,insert:"["},{from:n.to,insert:`](${s})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}})}}]);
