(self.webpackChunkapp_studio_enterprise_page_wizard=self.webpackChunkapp_studio_enterprise_page_wizard||[]).push([[2979],{42979:(Y,N,h)=>{h.r(N),h.d(N,{CLIPBOARD_OPTIONS:()=>P,ClipboardButtonComponent:()=>b,ExtendedRenderer:()=>J,KatexSpecificOptions:()=>X,LanguagePipe:()=>C,MARKED_EXTENSIONS:()=>k,MARKED_OPTIONS:()=>w,MarkdownComponent:()=>x,MarkdownModule:()=>_,MarkdownPipe:()=>I,MarkdownService:()=>c,MarkedRenderer:()=>y.Renderer,MermaidAPI:()=>R,PrismPlugin:()=>S,SECURITY_CONTEXT:()=>D,errorClipboardNotLoaded:()=>F,errorClipboardViewContainerRequired:()=>U,errorJoyPixelsNotLoaded:()=>A,errorKatexNotLoaded:()=>L,errorMermaidNotLoaded:()=>B,errorSrcWithoutHttpClient:()=>$,provideMarkdown:()=>z});var v=h(73308),f=h(67057),t=h(22307),O=h(62278),g=h(36486),y=h(54060),j=h(5757),T=h(76608);const K=["*"],W="Copy",V="Copied";class b{constructor(){this._buttonClick$=new O.Subject,this.copied$=this._buttonClick$.pipe((0,g.switchMap)(()=>(0,O.merge)((0,O.of)(!0),(0,O.timer)(3e3).pipe((0,g.mapTo)(!1)))),(0,g.distinctUntilChanged)(),(0,g.shareReplay)(1)),this.copiedText$=this.copied$.pipe((0,g.startWith)(!1),(0,g.map)(e=>e?V:W))}onCopyToClipboardClick(){this._buttonClick$.next()}static{this.\u0275fac=function(n){return new(n||b)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:b,selectors:[["markdown-clipboard"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,r){n&1&&(t.\u0275\u0275elementStart(0,"button",0),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275listener("click",function(){return r.onCopyToClipboardClick()}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275classProp("copied",t.\u0275\u0275pipeBind1(1,3,r.copied$)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,5,r.copiedText$)))},dependencies:[f.AsyncPipe],encapsulation:2,changeDetection:0})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(b,[{type:t.Component,args:[{selector:"markdown-clipboard",template:`
    <button
      class="markdown-clipboard-button"
      [class.copied]="copied$ | async"
      (click)="onCopyToClipboardClick()"
    >{{ copiedText$ | async }}</button>
  `,changeDetection:t.ChangeDetectionStrategy.OnPush,standalone:!0,imports:[f.AsyncPipe]}]}],null,null);const P=new t.InjectionToken("CLIPBOARD_OPTIONS");class X{}class C{transform(e,n){return e==null&&(e=""),n==null&&(n=""),typeof e!="string"?(console.error(`LanguagePipe has been invoked with an invalid value type [${typeof e}]`),e):typeof n!="string"?(console.error(`LanguagePipe has been invoked with an invalid parameter [${typeof n}]`),e):"```"+n+`
`+e+"\n```"}static{this.\u0275fac=function(n){return new(n||C)}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"language",type:C,pure:!0,standalone:!0})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(C,[{type:t.Pipe,args:[{name:"language",standalone:!0}]}],null,null);var S;(function(s){s.CommandLine="command-line",s.LineHighlight="line-highlight",s.LineNumbers="line-numbers"})(S||(S={}));const k=new t.InjectionToken("MARKED_EXTENSIONS"),w=new t.InjectionToken("MARKED_OPTIONS"),A="[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information",L="[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information",B="[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information",F="[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information",U="[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function",$="[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information",D=new t.InjectionToken("SECURITY_CONTEXT");class J extends y.Renderer{constructor(){super(...arguments),this.\u0275NgxMarkdownRendererExtendedForExtensions=!1,this.\u0275NgxMarkdownRendererExtendedForMermaid=!1}}class c{get options(){return this._options}set options(e){this._options={...this.DEFAULT_MARKED_OPTIONS,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}constructor(e,n,r,i,o,a,d){this.clipboardOptions=e,this.extensions=n,this.platform=i,this.securityContext=o,this.http=a,this.sanitizer=d,this.DEFAULT_MARKED_OPTIONS={renderer:new y.Renderer},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new O.Subject,this.reload$=this._reload$.asObservable(),this.options=r}parse(e,n=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:r,inline:i,emoji:o,mermaid:a,disableSanitizer:d}=n,l={...this.options,...n.markedOptions},u=l.renderer||this.renderer||new y.Renderer;this.extensions&&(this.renderer=this.extendsRendererForExtensions(u)),a&&(this.renderer=this.extendsRendererForMermaid(u));const p=this.trimIndentation(e),E=r?this.decodeHtml(p):p,M=o?this.parseEmoji(E):E,m=this.parseMarked(M,l,i);return(d?m:this.sanitizer.sanitize(this.securityContext,m))||""}render(e,n=this.DEFAULT_RENDER_OPTIONS,r){const{clipboard:i,clipboardOptions:o,katex:a,katexOptions:d,mermaid:l,mermaidOptions:u}=n;a&&this.renderKatex(e,{...this.DEFAULT_KATEX_OPTIONS,...d}),l&&this.renderMermaid(e,{...this.DEFAULT_MERMAID_OPTIONS,...u}),i&&this.renderClipboard(e,r,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...o}),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error($);return this.http.get(e,{responseType:"text"}).pipe((0,g.map)(n=>this.handleExtension(e,n)))}highlight(e){if(!(0,f.isPlatformBrowser)(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);const n=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(n,r=>r.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!(0,f.isPlatformBrowser)(this.platform))return e;const n=document.createElement("textarea");return n.innerHTML=e,n.value}extendsRendererForExtensions(e){const n=e;return n.\u0275NgxMarkdownRendererExtendedForExtensions===!0||(this.extensions?.length>0&&y.marked.use(...this.extensions),n.\u0275NgxMarkdownRendererExtendedForExtensions=!0),e}extendsRendererForMermaid(e){const n=e;if(n.\u0275NgxMarkdownRendererExtendedForMermaid===!0)return e;const r=e.code;return e.code=function(i,o,a){return o==="mermaid"?`<div class="mermaid">${i}</div>`:r.call(this,i,o,a)},n.\u0275NgxMarkdownRendererExtendedForMermaid=!0,e}handleExtension(e,n){const r=e.lastIndexOf("://"),i=r>-1?e.substring(r+4):e,o=i.lastIndexOf("/"),a=o>-1?i.substring(o+1).split("?")[0]:"",d=a.lastIndexOf("."),l=d>-1?a.substring(d+1):"";return l&&l!=="md"?"```"+l+`
`+n+"\n```":n}parseMarked(e,n,r=!1){if(n.renderer){const i={...n.renderer};delete i.\u0275NgxMarkdownRendererExtendedForExtensions,delete i.\u0275NgxMarkdownRendererExtendedForMermaid,delete n.renderer,y.marked.use({renderer:i})}return r?y.marked.parseInline(e,n):y.marked.parse(e,n)}parseEmoji(e){if(!(0,f.isPlatformBrowser)(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error(A);return joypixels.shortnameToUnicode(e)}renderKatex(e,n){if((0,f.isPlatformBrowser)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error(L);renderMathInElement(e,n)}}renderClipboard(e,n,r){if(!(0,f.isPlatformBrowser)(this.platform))return;if(typeof ClipboardJS>"u")throw new Error(F);if(!n)throw new Error(U);const{buttonComponent:i,buttonTemplate:o}=r,a=e.querySelectorAll("pre");for(let d=0;d<a.length;d++){const l=a.item(d),u=document.createElement("div");u.style.position="relative",l.parentNode.insertBefore(u,l),u.appendChild(l);const p=document.createElement("div");p.classList.add("markdown-clipboard-toolbar"),p.style.position="absolute",p.style.top=".5em",p.style.right=".5em",p.style.zIndex="1",u.insertAdjacentElement("beforeend",p),u.onmouseenter=()=>p.classList.add("hover"),u.onmouseleave=()=>p.classList.remove("hover");let E;if(i){const m=n.createComponent(i);E=m.hostView,m.changeDetectorRef.markForCheck()}else if(o)E=n.createEmbeddedView(o);else{const m=n.createComponent(b);E=m.hostView,m.changeDetectorRef.markForCheck()}let M;E.rootNodes.forEach(m=>{p.appendChild(m),M=new ClipboardJS(m,{text:()=>l.innerText})}),E.onDestroy(()=>M.destroy())}}renderMermaid(e,n=this.DEFAULT_MERMAID_OPTIONS){if(!(0,f.isPlatformBrowser)(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error(B);const r=e.querySelectorAll(".mermaid");r.length!==0&&(mermaid.initialize(n),mermaid.run({nodes:r}))}trimIndentation(e){if(!e)return"";let n;return e.split(`
`).map(r=>{let i=n;return r.length>0&&(i=isNaN(i)?r.search(/\S|$/):Math.min(r.search(/\S|$/),i)),isNaN(n)&&(n=i),i?r.substring(i):r}).join(`
`)}static{this.\u0275fac=function(n){return new(n||c)(t.\u0275\u0275inject(P,8),t.\u0275\u0275inject(k,8),t.\u0275\u0275inject(w,8),t.\u0275\u0275inject(t.PLATFORM_ID),t.\u0275\u0275inject(D),t.\u0275\u0275inject(j.HttpClient,8),t.\u0275\u0275inject(T.DomSanitizer))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(c,[{type:t.Injectable}],()=>[{type:void 0,decorators:[{type:t.Inject,args:[P]},{type:t.Optional}]},{type:void 0,decorators:[{type:t.Inject,args:[k]},{type:t.Optional}]},{type:void 0,decorators:[{type:t.Inject,args:[w]},{type:t.Optional}]},{type:Object,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]},{type:t.SecurityContext,decorators:[{type:t.Inject,args:[D]}]},{type:j.HttpClient,decorators:[{type:t.Optional}]},{type:T.DomSanitizer}],null);class x{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(e){this._disableSanitizer=this.coerceBooleanProperty(e)}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}constructor(e,n,r){this.element=e,this.markdownService=n,this.viewContainerRef=r,this.error=new t.EventEmitter,this.load=new t.EventEmitter,this.ready=new t.EventEmitter,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new O.Subject}ngOnChanges(){this.loadContent()}loadContent(){if(this.data!=null){this.handleData();return}if(this.src!=null){this.handleSrc();return}}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,g.takeUntil)(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e){var n=this;return(0,v.A)(function*(r,i=!1){const o={decodeHtml:i,inline:n.inline,emoji:n.emoji,mermaid:n.mermaid,disableSanitizer:n.disableSanitizer},a={clipboard:n.clipboard,clipboardOptions:n.getClipboardOptions(),katex:n.katex,katexOptions:n.katexOptions,mermaid:n.mermaid,mermaidOptions:n.mermaidOptions},d=yield n.markdownService.parse(r,o);n.element.nativeElement.innerHTML=d,n.handlePlugins(),n.markdownService.render(n.element.nativeElement,a,n.viewContainerRef),n.ready.emit()}).apply(this,arguments)}coerceBooleanProperty(e){return e!=null&&`${String(e)}`!="false"}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e).then(()=>{this.load.emit(e)})},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,S.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,S.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,n){const r=e.querySelectorAll("pre");for(let i=0;i<r.length;i++){const o=n instanceof Array?n:[n];r.item(i).classList.add(...o)}}setPluginOptions(e,n){const r=e.querySelectorAll("pre");for(let i=0;i<r.length;i++)Object.keys(n).forEach(o=>{const a=n[o];if(a){const d=this.toLispCase(o);r.item(i).setAttribute(d,a.toString())}})}toLispCase(e){const n=e.match(/([A-Z])/g);if(!n)return e;let r=e.toString();for(let i=0,o=n.length;i<o;i++)r=r.replace(new RegExp(n[i]),"-"+n[i].toLowerCase());return r.slice(0,1)==="-"&&(r=r.slice(1)),r}static{this.\u0275fac=function(n){return new(n||x)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(c),t.\u0275\u0275directiveInject(t.ViewContainerRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:x,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[t.\u0275\u0275NgOnChangesFeature,t.\u0275\u0275StandaloneFeature],ngContentSelectors:K,decls:1,vars:0,template:function(n,r){n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275projection(0))},encapsulation:2})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(x,[{type:t.Component,args:[{selector:"markdown, [markdown]",template:"<ng-content></ng-content>",standalone:!0}]}],()=>[{type:t.ElementRef},{type:c},{type:t.ViewContainerRef}],{data:[{type:t.Input}],src:[{type:t.Input}],disableSanitizer:[{type:t.Input}],inline:[{type:t.Input}],clipboard:[{type:t.Input}],clipboardButtonComponent:[{type:t.Input}],clipboardButtonTemplate:[{type:t.Input}],emoji:[{type:t.Input}],katex:[{type:t.Input}],katexOptions:[{type:t.Input}],mermaid:[{type:t.Input}],mermaidOptions:[{type:t.Input}],lineHighlight:[{type:t.Input}],line:[{type:t.Input}],lineOffset:[{type:t.Input}],lineNumbers:[{type:t.Input}],start:[{type:t.Input}],commandLine:[{type:t.Input}],filterOutput:[{type:t.Input}],host:[{type:t.Input}],prompt:[{type:t.Input}],output:[{type:t.Input}],user:[{type:t.Input}],error:[{type:t.Output}],load:[{type:t.Output}],ready:[{type:t.Output}]});class I{constructor(e,n,r,i,o){this.domSanitizer=e,this.elementRef=n,this.markdownService=r,this.viewContainerRef=i,this.zone=o}transform(e,n){var r=this;return(0,v.A)(function*(){if(e==null)return"";if(typeof e!="string")return console.error(`MarkdownPipe has been invoked with an invalid value type [${typeof e}]`),e;const i=yield r.markdownService.parse(e,n);return r.zone.onStable.pipe((0,g.first)()).subscribe(()=>r.markdownService.render(r.elementRef.nativeElement,n,r.viewContainerRef)),r.domSanitizer.bypassSecurityTrustHtml(i)})()}static{this.\u0275fac=function(n){return new(n||I)(t.\u0275\u0275directiveInject(T.DomSanitizer,16),t.\u0275\u0275directiveInject(t.ElementRef,16),t.\u0275\u0275directiveInject(c,16),t.\u0275\u0275directiveInject(t.ViewContainerRef,16),t.\u0275\u0275directiveInject(t.NgZone,16))}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"markdown",type:I,pure:!0,standalone:!0})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(I,[{type:t.Pipe,args:[{name:"markdown",standalone:!0}]}],()=>[{type:T.DomSanitizer},{type:t.ElementRef},{type:c},{type:t.ViewContainerRef},{type:t.NgZone}],null);function z(s){return[c,s?.loader??[],s?.clipboardOptions??[],s?.markedOptions??[],{provide:k,useValue:s?.markedExtensions??[]},{provide:D,useValue:s?.sanitize??t.SecurityContext.HTML}]}const H=[b,C,x,I];class _{static forRoot(e){return{ngModule:_,providers:[z(e)]}}static forChild(){return{ngModule:_}}static{this.\u0275fac=function(n){return new(n||_)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:_})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[f.CommonModule]})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(_,[{type:t.NgModule,args:[{imports:[f.CommonModule,...H],exports:H}]}],null,null);var R;(function(s){let e;(function(i){i.Strict="strict",i.Loose="loose",i.Antiscript="antiscript",i.Sandbox="sandbox"})(e=s.SecurityLevel||(s.SecurityLevel={}));let n;(function(i){i.Base="base",i.Forest="forest",i.Dark="dark",i.Default="default",i.Neutral="neutral"})(n=s.Theme||(s.Theme={}));let r;(function(i){i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal"})(r=s.LogLevel||(s.LogLevel={}))})(R||(R={}))}}]);
